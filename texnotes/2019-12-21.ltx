\documentclass{article}
\usepackage{amssymb}
\input{theorem}

\input{prooftree}
\def\erule#1#2{\begin{prooftree}#1\justifies #2\end{prooftree}}
\def\pair#1#2{\langle #1 , #2 \rangle}

\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{calc}
\definecolor{morange}{rgb}{1,0.56,0}
\definecolor{lorange}{rgb}{1,0.95,0.8}
\definecolor{mgreen}{rgb}{0,0.56,0}
\definecolor{lgreen}{rgb}{0.95,1,0.8}
\definecolor{mblue2}{rgb}{0,0.2,1.0}
\definecolor{lblue}{rgb}{0.8,0.95,1}
\definecolor{mred}{rgb}{0.9,0.1,0.1}
\definecolor{mgreen}{rgb}{0.1,0.5,0.1}
\definecolor{mblue}{rgb}{0.3,0.3,0.9}
\def\bitf#1{#1 [smooth, tension=0.8] coordinates {(-1.6,2) (-1,1) (0,0)}}
\def\bitg#1{#1 [smooth, tension=0.8] coordinates {(1,2) (0.55,1) (0,0)}}
\def\bitgrev#1{#1 [smooth, tension=0.8] coordinates {(0,0) (0.55,1) (1,2)}}
\def\bitfg#1{#1 [smooth, tension=0.8] coordinates {(0,0) (0,-2) }}
\def\binj{\mathbf{inj}}
\def\blet{\mathrel\mathbf{let}}
\def\bin{\mathrel\mathbf{in}}
\def\bmatch{\mathrel\mathbf{match}}
\def\bwith{\mathrel\mathbf{with}}
\def\pbck{\ar[dr, phantom, pos=0, "\lrcorner"]}
\def\pdbck{\ar[ddr, phantom, pos=0, "\lrcorner"]}
\def\ups{{\uparrow}}
\def\dns{{\downarrow}}
\def\adjust{\big|}
\def\O{\mathcal{O}}
\def\rid{\mathsf{id}}
\def\ridp{\mathsf{idp}}
\def\rcoe{\mathsf{coe}}
\def\rtype{\mathsf{type}}
\def\int{\square}
\def\bd{\partial}
\def\prov{\vdash}
\def\pprov{\vdash\!\!\!\vdash}
\def\prequiv{\dashv\vdash}
\def\imp{\Rightarrow}
\def\cqed{\hskip2mm{\vrule width .5em height .5em depth 0em}} % at the end of a |P.
\def\o{\circ}
\def\lx{\bigcirc}
\def\B{\mathbf{B}}
\def\C{\mathbf{C}}
\def\D{\mathbf{D}}
\def\E{\mathbf{E}}
\def\R{\mathbb{R}}
\def\two{\mathbf{2}}
\def\S{\mathbb{S}}
\def\M{\mathbb{M}}
\def\X{\mathbf{X}}
\def\Y{\mathcal{Y}}
\def\x{\times}
\def\st{\mathrel|}
\def\rset{\mathbf{Set}}
\def\rcat{\mathbf{Cat}}
\def\op{\mathsf{op}}
\def\P{\mathbb{P}}
\def\I{\mathbb{I}}
\def\U{\mathbb{U}}
\def\N{\mathbb{N}}
\def\Z{\mathbb{Z}}
\def\tw{\mathbf{2}}
\def\dash{\hbox{---}}
\def\dom{\mathop{\mathrm{dom}}}
\def\cod{\mathop{\mathrm{cod}}}
\def\celse{\mathrel{|}}
\def\cn{{:}}
\def\rok{\mathrel\mathsf{ok}}
\def\llam#1{\langle {#1} \rangle}
\def\hf{{\odot}}

\begin{document}
\tikzset{>=stealth}
\tikzset{
   commutative diagrams/.cd,
   arrow style=tikz,
   diagrams={>=stealth}}

\subsubsection*{Morse Theory}

Let me try to page back in that very old line of thinking about
polynomials and visual representations of $n$-cells, perhaps in a more
principled way this time.

Suppose an interval $[0,1]$ is mapped by $f$ to real numbers in some smooth fashion. Every
point is positive or negative or zero. By intermediate value theorem, if I look
at a point $x$ and $f(x)$ is positive, and I look some distance away at $x'$,
and I know no `critical' points (by which I mean $f(x)$ being zero) occur in between
$x$ and $x'$, then $f(x')$ is also positive.

Given an interval mapped to real numbers, I can ask for the
topological space of critical points of it; it'll be a discrete
collection of points. Let's call these $1$-critical points
specifically. They represent a $1$-cell transition from one object of
a category to another. The criterion for being $1$-critical is simply that $f(x) = 0$.

Now consider a square $[0,1]^2$. Suppose we call the coordinates $x$ and $y$. For
each particular $y$, we have a set of $1$-critical points. As we increase $y$,
the topology of this set may change, as we pass through a $2$-critical point.

Contrapositively, I'd like to be able to prove a lemma that says
\begin{lemma}
Let $f : [0,1]^2 \to \R$. If there are no 2-critical points in $f$,
then the 1-critical points of $f(\dash, 0)$ are homeomorphic to those of $f(\dash, 1)$.
\end{lemma}
and in fact there should be a nice unique lifting that tells us how to transport
any critical point in $f(\dash, 0)$ down to $f(\dash, 1)$.

So what are 2-critical points? I suppose anything for which $f = 0$ and $f_x = 0$.

Ok, let's establish some more basic claims:

\begin{lemma}
If $f(x,y) \ne 0$, then there's a neighborhood around $(x,y)$ that contains no critical points at all.
\end{lemma}

\begin{proof}
Follows directly from continuity of $f$. Such a point represents an {\em object} of the underlying category.
\cqed
\end{proof}

\begin{lemma}
If $f(x,y) = 0$ and $f_x(x,y) \ne 0$, then there's a neighborhood around $(x,y)$ that contains no 2-critical points.
\end{lemma}

\begin{proof}
Follows directly from continuity of $f_x$. Such a point represents an {\em morphism} of the underlying category.
\cqed
\end{proof}

Here's a harder one:
\vfil\eject
\begin{lemma}
If
\[ f = 0\qquad f_x = 0\qquad f_{xx} > 0\qquad f_y > 0\]
then there exists a neighborhood $[x_-, x_+] \x [y_-, y_+]$ around $(x,y)$ such that
\begin{enumerate}
\item
There are no critical points in $[x_-, x_+] \x (y,y_+)$.
\item
There are exactly two 1-critical points in
$[x_-, x_+] \x \{y'\}$, for any $y' \in (y_-, y)$.
\end{enumerate}
\end{lemma}

\begin{proof}
By continuity, $f_y > 0$ and $f_{xx} > 0$ at the point $(x,y)$ means we can assume a sufficiently
small region to ensure that those hold throughout the region.
\ldots
\cqed
\end{proof}

\subsubsection*{Morse Theory Patterns?}

I assert that the 1-critical points are those where $f = 0$. The interesting thing
about a {\em non}-1-critical point $p$ is that since $f \ne 0$ and $f$ is smooth, then given a sufficiently
small $\Delta x$, I find that $p + \Delta x$ is also on the same side of zero as $p$.

Similarly, here is my justification that the
appropriate definition of 2-critical is $f = 0 \land f_x = 0$:

If a point $p\in \R^n$ is 1-critical and not 2-critical, then given $\Delta y$
I can find a point $p + \Delta x + \Delta y$ that is also 1-critical. Let $\Delta y$ be given.
I know that approximately
\[f(p + \Delta x + \Delta y) = f(p) + f_x(p)\Delta x + f_y(p)\Delta y\]
or more simply
\[0 = f(p + \Delta p) = f + f_x\Delta x + f_y\Delta y\]
We can observe that $f = 0$ by assumption, and solve for $\Delta x$ and get
\[\Delta x = -(f_y/f_x)\Delta y    \]
So as long as $f_x = 0$ we're fine, and we can `push' the 1-critical
point forward (or backward) in the $y$ direction.

What does 3-criticality mean, then? Suppose we're given a point $p$ that is 2-critical
(so $f = 0$ and $f_x = 0$ at $p$) and we're given $\Delta z$ and we want to find
$\Delta x,\Delta y$ such that the displaced point is 2-critical, i.e.
\[f(p + \Delta p) = 0
\qquad
f_x(p + \Delta p) = 0\]
we know approximately that
\[ 0 = f + f_x \Delta_x + f_y \Delta_y + f_z \Delta_z \]
\[ 0 = f_x + f_{xx} \Delta_x + f_{xy} \Delta_y + f_{xz} \Delta_z \]
but we know $f, f_x$ are zero, so
\[ 0 = f_y \Delta_y + f_z \Delta_z \]
\[ 0 = f_{xx} \Delta_x + f_{xy} \Delta_y + f_{xz} \Delta_z \]
we can solve for $\Delta_x, \Delta_y$ to get
\[  \Delta_y = -(f_z/f_y) \Delta_z \]
\[  \Delta_x  = - (f_{xy} \Delta_y + f_{xz} \Delta_z) / f_{xx} \]
So if {\em either} $f_y$ and $f_{xx}$ are zero, we have a potential obstacle
to this lifting. And indeed I can come up with examples that seem appropriately
critical, that make only one of them zero at a time.

One example is

\[f = x^3 + xz + y\]
which, if $z$ is negative, looks like the general two-extrema cubic, (and so an example
of an adjoint zig-zag) and if $z$ is positive, it has no extrema. Another example is
\[f = x^2 + y^2 + z\]
which is a circle if $z$ is negative, and empty if $z$ is positive.
The first function has $f_y > 0$ and $f_{xx} = 0$ at the origin,
the second function has $f_y = 0$ and $f_{xx} > 0$ at the origin.

I can capture this disjunction by saying that the product is zero. So
the table I have of conjunctively increasing requirements for criticality
looks like:
\[
\begin{tabular}{l|l}
  \hline
1&$f $\\
2&$f_x $\\
3&$f_{xx} f_{y} $\\
\end{tabular}
\]

Taking the next step seemed a little challenging, though, when I tried to work it out on paper.
Suppose I have a point $p$ which is 3-critical, for which $f = 0$, and $f_x = 0$, and $f_{xx}f_y = 0$.
Someone hands me $\Delta w$.
I want to find $\Delta x, \Delta y, \Delta z$ such that $f(p + \Delta p)$ is also 3-critical. This means
\[ f(p + \Delta p) = 0\qquad f_x(p + \Delta p) = 0 \qquad f_{xx}(p + \Delta p)f_{y}(p + \Delta p) = 0\]
so I insert approximations
\[ 0 = f + f_{x}\Delta x + f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w \]
\[ 0 = f_{x} + f_{xx}\Delta x + f_{xy}\Delta y + f_{xz}\Delta z + f_{xw}\Delta w \]
\[ 0 = (f_{y} + f_{xy}\Delta x + f_{yy}\Delta y + f_{yz}\Delta z + f_{yw}\Delta w)
(f_{xx} + f_{xxx}\Delta x + f_{xxy}\Delta y + f_{xxz}\Delta z + f_{xxw}\Delta w) \]
I can simplify the first two a little knowing what I know about things being zero:
\[ 0 = f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w \]
\[ 0 = f_{xx}\Delta x + f_{xy}\Delta y + f_{xz}\Delta z + f_{xw}\Delta w \]
Hm, maybe I should multiply the first equation by $f_{xx}$? Then I get
\[ 0 =  f_{z}f_{xx}\Delta z + f_{w}f_{xx}\Delta w \]
and
\[ \Delta z = -(f_{w}f_{xx}  / f_{z}f_{xx})\Delta w\]
Then I could multiply the second equation by $f_y$ and get
\[ 0 =  f_{xy}f_{y}\Delta y + f_{xz}f_{y}\Delta z + f_{xw}f_{y}\Delta w \]
and thus
\[ \Delta y =  -( f_{xz}f_{y}\Delta z + f_{xw}f_{y}\Delta w)/ f_{xy}f_{y} \]
Finally I turn my attention back to
\[ 0 = (f_{y} + f_{xy}\Delta x + f_{yy}\Delta y + f_{yz}\Delta z + f_{yw}\Delta w)
(f_{xx} + f_{xxx}\Delta x + f_{xxy}\Delta y + f_{xxz}\Delta z + f_{xxw}\Delta w) \]
and rewrite everything which has a known value as $K_n$:
\[ 0 = ( f_{xy}\Delta x + K_1) ( f_{xxx}\Delta x + K_2) \]
Multiply out, and recklessly assume $\Delta x^2 = 0$?
\[ 0 = \Delta x(f_{xy} K_2 + f_{xxx} K_1) + K_1 K_2\]
No, this is a terrible outcome, I can't work very well with this.

\subsubsection*{Dealing Differently with Different Criticalities}

Let's think about the $f_{xx}$ and $f_y$ cases separately, then.
Suppose I have a point that is $f_{xx}$-critical, for which $f = 0$, and $f_x = 0$, and $f_{xx} = 0$.
Someone hands me $\Delta w$.
I want to find $\Delta x, \Delta y, \Delta z$ such that $f(p + \Delta p)$ is also $f_{xx}$-critical. This means
\[ f(p + \Delta p) = 0\qquad f_x(p + \Delta p) = 0 \qquad f_{xx}(p + \Delta p) = 0\]
so I insert approximations
\[ 0 = f + f_{x}\Delta x + f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w \]
\[ 0 = f_{x} + f_{xx}\Delta x + f_{xy}\Delta y + f_{xz}\Delta z + f_{xw}\Delta w \]
\[ 0 = f_{xx} + f_{xxx}\Delta x + f_{xxy}\Delta y + f_{xxz}\Delta z + f_{xxw}\Delta w \]
Knowing what I know about $p$, I simplify to
\[ 0 =  f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w \]
\[ 0 =  f_{xy}\Delta y + f_{xz}\Delta z + f_{xw}\Delta w \]
\[ 0 =  f_{xxx}\Delta x + f_{xxy}\Delta y + f_{xxz}\Delta z + f_{xxw}\Delta w \]
Now it seems that if $f_y f_{xz} - f_{xy} f_z$ and $f_{xxx}$ are both nonzero, then
I can solve this for $\Delta x, \Delta y, \Delta z$. The expression
$f_y f_{xz} - f_{xy} f_z$ I recognize as the determinant
\[
\left|\begin{array}{cc}
f_y & f_{xy}\cr
f_z & f_{xz}
\end{array}\right|
\]
which is sort of like an outer product $(y, z) \x (\cdot, x)$.

Let's think about the $f_y$ case.
Suppose I have a point that is $f_{y}$-critical, for which $f = 0$, and $f_x = 0$, and $f_{y} = 0$.
Someone hands me $\Delta w$.
I want to find $\Delta x, \Delta y, \Delta z$ such that $f(p + \Delta p)$ is also $f_{y}$-critical. This means
\[ f(p + \Delta p) = 0\qquad f_x(p + \Delta p) = 0 \qquad f_{y}(p + \Delta p) = 0\]
so I insert approximations
\[ 0 = f + f_{x}\Delta x + f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w \]
\[ 0 = f_{x} + f_{xx}\Delta x + f_{xy}\Delta y + f_{xz}\Delta z + f_{xw}\Delta w \]
\[ 0 = f_{y} + f_{xy}\Delta x + f_{yy}\Delta y + f_{yz}\Delta z + f_{yw}\Delta w \]
Knowing what I know about $p$, I simplify to
\[ 0 =  f_{z}\Delta z + f_{w}\Delta w \]
\[ 0 =  f_{xx}\Delta x + f_{xy}\Delta y + f_{xz}\Delta z + f_{xw}\Delta w \]
\[ 0 =  f_{xy}\Delta x + f_{yy}\Delta y + f_{yz}\Delta z + f_{yw}\Delta w \]
To solve this, I need $f_z$ to be nonzero, and for $f_{xx}f_{yy} - f_{xy}^2$ to be nonzero,
the latter which is essentially the determinant
\[
\left|\begin{array}{cc}
f_{xx} & f_{xy}\cr
f_{xy} & f_{yy}
\end{array}\right|
\]
which arises as $(x,y) \x (x,y)$.
So my table is now a branching tree, something like
\[
\begin{tabular}{l|l}
  \hline
1&$\cdot $\\
2&$x $\\
3&$[xx, y] $\\
4&$[[xxx, (y,z) \x (\cdot, x)], [(x,y) \x (x,y), z  ]] $\\
\end{tabular}
\]
\subsubsection*{Iterating Further}
As a warm-up, I'm going to try iterating on $xxx$ and $z$. I'm not
sure if I'm going to be able to understand what happens to the
determinantal cases easily.

Let's try $z$ first.
Suppose I have a point that is $f_{z}$-critical, meaning that I know all of
$f, f_x, f_y, f_z$ are zero. Someone hands me $\Delta v$.
I want to find $\Delta x, \Delta y, \Delta z, \Delta w$ such that $f(p + \Delta p)$ is also $f_{z}$-critical. This means
all of $f, f_x, f_y, f_z$ are zero at $p + \Delta p$.
so I insert approximations
\[ 0 = f_{} + f_{x}\Delta x + f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w + f_{v}\Delta v\]
\[ 0 = f_{x} + f_{xx}\Delta x + f_{yx}\Delta y + f_{zx}\Delta z + f_{wx}\Delta w + f_{vx}\Delta v\]
\[ 0 = f_{y} + f_{xy}\Delta x + f_{yy}\Delta y + f_{zy}\Delta z + f_{wy}\Delta w + f_{vy}\Delta v\]
\[ 0 = f_{z} + f_{xz}\Delta x + f_{yz}\Delta y + f_{zz}\Delta z + f_{wz}\Delta w + f_{vz}\Delta v\]

Knowing what I know about $p$, I simplify to
\[ 0 =  f_{w}\Delta w + f_{v}\Delta v\]
\[ 0 = f_{xx}\Delta x + f_{yx}\Delta y + f_{zx}\Delta z + f_{wx}\Delta w + f_{vx}\Delta v\]
\[ 0 = f_{xy}\Delta x + f_{yy}\Delta y + f_{zy}\Delta z + f_{wy}\Delta w + f_{vy}\Delta v\]
\[ 0 = f_{xz}\Delta x + f_{yz}\Delta y + f_{zz}\Delta z + f_{wz}\Delta w + f_{vz}\Delta v\]
So this means that I need $f_w$ to be nonzero to solve for $\Delta w$, and also I need
\[
\left|\begin{array}{ccc}
f_{xx} & f_{yx} & f_{zx}\cr
f_{xy} & f_{yy} & f_{zy}\cr
f_{xz} & f_{yz} & f_{zz}
\end{array}\right|
\]
to be nonzero. That makes sense. The derivatives that need to be nonzero to preserve
$f_{z}$ criticality are $w$ and $(x,y,z) \x (x,y,z)$.

Let's try $f_{xxx}$, then.
Suppose I have a point that is $f_{xxx}$-critical, meaning that I know all of
$f, f_x, f_{xx}, f_{xxx}$ are zero. Someone hands me $\Delta v$.
I want to find $\Delta x, \Delta y, \Delta z, \Delta w$ such that $f(p + \Delta p)$ is also $f_{xxx}$-critical. This means
all of $f, f_x, f_{xx}, f_{xxx}$ are zero at $p + \Delta p$.
\[ 0 = f_{} + f_{x}\Delta x + f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w + f_{v}\Delta v\]
\[ 0 = f_{x} + f_{xx}\Delta x + f_{yx}\Delta y + f_{zx}\Delta z + f_{wx}\Delta w + f_{vx}\Delta v\]
\[ 0 = f_{xx} + f_{xxx}\Delta x + f_{yxx}\Delta y + f_{zxx}\Delta z + f_{wxx}\Delta w + f_{vxx}\Delta v\]
\[ 0 = f_{xxx} + f_{xxxx}\Delta x + f_{yxxx}\Delta y + f_{zxxx}\Delta z + f_{wxxx}\Delta w + f_{vxxx}\Delta v\]
Knowing what I know about $p$, I simplify to
\[ 0 =  f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w + f_{v}\Delta v\]
\[ 0 =  f_{yx}\Delta y + f_{zx}\Delta z + f_{wx}\Delta w + f_{vx}\Delta v\]
\[ 0 =  f_{yxx}\Delta y + f_{zxx}\Delta z + f_{wxx}\Delta w + f_{vxx}\Delta v\]
\[ 0 =  f_{xxxx}\Delta x + f_{yxxx}\Delta y + f_{zxxx}\Delta z + f_{wxxx}\Delta w + f_{vxxx}\Delta v\]
Here I need the nonzeroness of the determinant
\[
\left|\begin{array}{ccc}
f_{y} & f_{z} & f_{w}\cr
f_{yx} & f_{zx} & f_{wx}\cr
f_{yxx} & f_{zxx} & f_{wxx}
\end{array}\right|
\]
to solve the first three equations for $\Delta y, \Delta z, \Delta w$, then I can
rely on the $xxxx$ derivative being nonzero to give me $\Delta x$.
So to preserve $xxx$-criticality, I need $xxxx$ and $(\cdot, x, xx) \x (y, z, w)$.

\subsubsection*{Diving into the Hard Case}
Let's suppose I have a $(x,y)\x (x,y)$-critical point.
This means I know that $f, f_x, f_y, f_{xx}f_{yy} - f_{xy}^2$ are all zero at $p$.
Someone hands me $\Delta v$.
I want to find $\Delta x, \Delta y, \Delta z, \Delta w$ such that $f(p + \Delta p)$ is also
$(x,y)\x (x,y)$-critical.
This means I know that $f, f_x, f_y, f_{xx}f_{yy} - f_{xy}^2$ are all zero at $p + \Delta p$.
\[ 0 = f_{} + f_{x}\Delta x + f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w + f_{v}\Delta v\]
\[ 0 = f_{x} + f_{xx}\Delta x + f_{yx}\Delta y + f_{zx}\Delta z + f_{wx}\Delta w + f_{vx}\Delta v\]
\[ 0 = f_{y} + f_{xy}\Delta x + f_{yy}\Delta y + f_{zy}\Delta z + f_{wy}\Delta w + f_{vy}\Delta v\]
\[ 0 = (f_{xx} + f_{xxx}\Delta x + f_{yxx}\Delta y + f_{zxx}\Delta z + f_{wxx}\Delta w + f_{vxx}\Delta v)\]
\[(f_{yy} + f_{xyy}\Delta x + f_{yyy}\Delta y + f_{zyy}\Delta z + f_{wyy}\Delta w + f_{vyy}\Delta v) -{}\]
\[(f_{xy} + f_{xxy}\Delta x + f_{yxy}\Delta y + f_{zxy}\Delta z + f_{wxy}\Delta w + f_{vxy}\Delta v)^2\]
Simplifications I know how to do include
\[ 0 =  f_{z}\Delta z + f_{w}\Delta w + f_{v}\Delta v\]
\[ 0 =  f_{xx}\Delta x + f_{yx}\Delta y + f_{zx}\Delta z + f_{wx}\Delta w + f_{vx}\Delta v\]
\[ 0 =  f_{xy}\Delta x + f_{yy}\Delta y + f_{zy}\Delta z + f_{wy}\Delta w + f_{vy}\Delta v\]
Don't see how to make progress yet. If I assume $\Delta^2 = 0$, I can simplify the last equation from the original
batch to
\[ 0 = f_{xx}f_{yy} + f_{yy} ( f_{xxx}\Delta x + f_{yxx}\Delta y + f_{zxx}\Delta z + f_{wxx}\Delta w + f_{vxx}\Delta v)\]
\[f_{xx} (  f_{xyy}\Delta x + f_{yyy}\Delta y + f_{zyy}\Delta z + f_{wyy}\Delta w + f_{vyy}\Delta v) -{}\]
\[f_{xy}^2 - 2 f_{xy} ( f_{xxy}\Delta x + f_{yxy}\Delta y + f_{zxy}\Delta z + f_{wxy}\Delta w + f_{vxy}\Delta v)\]
which is the same as
\[ 0 =  f_{yy} ( f_{xxx}\Delta x + f_{yxx}\Delta y + f_{zxx}\Delta z + f_{wxx}\Delta w + f_{vxx}\Delta v)\]
\[f_{xx} (  f_{xyy}\Delta x + f_{yyy}\Delta y + f_{zyy}\Delta z + f_{wyy}\Delta w + f_{vyy}\Delta v) -{}\]
\[ 2 f_{xy} ( f_{xxy}\Delta x + f_{yxy}\Delta y + f_{zxy}\Delta z + f_{wxy}\Delta w + f_{vxy}\Delta v)\]
which is at least linear in $\Delta$'s, so it seems like I should get some kind of reasonable determinantal expression
for what needs to be nonzero.

But I feel sort of stuck as to how to express it.

\subsubsection*{Reexamining the `Terrible Outcome'}

I can consider the knowledge that 3-criticality means $f_{xx} = 0$ or $f_{y} = 0$ as the determinant
\[
\left|\begin{array}{ccc}
f_{x} & f_{y} \cr
f_{xx} & f_{xy}
\end{array}\right|
\]
being zero. I just happen to know that $f_x = 0$ also.

Suppose I have a point $p$ for which $f, f_x, $ and $f_{xx}f_y$ are all zero.
Someone hands me $\Delta w$.
I want to find $p + \Delta_p$ such that $p + \Delta p$ shares this criticality.
So I look to approximations
\[ 0 = f + f_{x}\Delta x + f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w \]
\[ 0 = f_{x} + f_{xx}\Delta x + f_{xy}\Delta y + f_{xz}\Delta z + f_{xw}\Delta w \]
\[ 0 = (f_{y} + f_{xy}\Delta x + f_{yy}\Delta y + f_{yz}\Delta z + f_{yw}\Delta w)\]
\[(f_{xx} + f_{xxx}\Delta x + f_{xxy}\Delta y + f_{xxz}\Delta z + f_{xxw}\Delta w) \]
I can simplify by assuming that products of $\Delta$'s are zero:
\[ 0 = f + f_{x}\Delta x + f_{y}\Delta y + f_{z}\Delta z + f_{w}\Delta w \]
\[ 0 = f_{x} + f_{xx}\Delta x + f_{xy}\Delta y + f_{xz}\Delta z + f_{xw}\Delta w \]
\[ 0 = f_{xx} (f_{xy}\Delta x + f_{yy}\Delta y + f_{yz}\Delta z + f_{yw}\Delta w)\]
\[f_y( f_{xxx}\Delta x + f_{xxy}\Delta y + f_{xxz}\Delta z + f_{xxw}\Delta w) \]
so the determinant I get is then
\[
\left|\begin{array}{ccc}
f_{x} & f_{y} & f_{z}\cr
f_{xx} & f_{xy} & f_{xz} \cr
f_{xx}f_{xy} + f_yf_{xxx} & f_{xx}f_{yy} + f_yf_{xxy} & f_{xx}f_{yz} + f_yf_{xxz} \cr
\end{array}\right|
\]
and I happen to know that $f_x = 0$ so this is really
\[
\left|\begin{array}{ccc}
0 & f_{y} & f_{z}\cr
f_{xx} & f_{xy} & f_{xz} \cr
f_{xx}f_{xy} + f_yf_{xxx} & f_{xx}f_{yy} + f_yf_{xxy} & f_{xx}f_{yz} + f_yf_{xxz} \cr
\end{array}\right|
\]
I do see that if $f_{xx} = f_{xxx} = 0$, this determinant is zero.
Likewise if $f_y = f_z = 0$. Likewise if $f_{xx}$ is zero and the $(y,z)\x(1,\cdot)$ determinant is zero.
And the bottom row of this is a collection of matrix permanents: I don't know quite how to notate it, but something
along the lines of
\[
\left|\begin{array}{ccc}
0 & y & z\cr
xx & xy & xz \cr
(xx, y) \x (\cdot, x) & (xx, y) \x (\cdot, y) & (xx, y) \x (\cdot, z) \cr
\end{array}\right|
\]

\subsubsection*{Trying to Generalize}
Let's say we have one form of criticality which is captured by a sequence of polynomials in
derivatives of $f$ being simultaneously zero. Let's use $\sigma$ for multisets of coordinates, the things
that we differentiate $f$ by. Let's use $\mu$ for multisets {\em of} multisets of coordinates, so
that $f_\mu$ is a term in one of these polynomials. For example, if $\sigma = \{x, x, y\}$, then
$f_\sigma = f_{xxy}$. If $\mu = \{\{x, x, y\}, \{x, x, y\}, z\}$, then $f_\mu = f_{xxy}^2f_z$.
Generally
\[f_\mu = \prod_{\sigma \in \mu} f_\sigma\]
\[f_\sigma = \left(\prod_{v \in \sigma} {\partial \over \partial v}\right) f\]
where the latter product is really operator composition, whereas the former is the ordinary product in $\R$.
Finally say $\tau$ is a real-coefficient formal sum over $\mu$s, and
\[f_\tau = \sum_{\mu \in \tau} f_\mu \]
So like if $\tau = (1/2)\{\{x, x, y\}, \{x, x, y\}, z\} - \{\{w\}\}$, then
$f_\tau = (1/2)f_{xxy}^2f_z  - f_w$.

Now we suppose we have a notion of criticality that is captured by $f_{\tau_1}, \ldots, f_{\tau_n}$ being zero
for all $n$. Suppose the arguments to $f$ that matter for criticality are $x_1, \ldots, x_{n}$.
(Note that we {\em are} reusing $n$, to ensure a square matrix in a moment)
We want to be able to push critical points along the coordinate $y$.

So we are given $\Delta y$ and we want to find $\Delta x_1, \ldots, \Delta x_n$ such that
$f(p + \Delta p)$ is also critical. We have $n$ equations
\[0 = f_{\tau_1}(p + \Delta p) \qquad \cdots\qquad 0 = f_{\tau_n}(p + \Delta p)\]
in $n$ variables $\Delta x_i$. We just need to expand out the linear approximations
to $f_{\tau_i}$ as linear functions in $\Delta x_j$, and say that the determinant of the resulting
matrix is the criticality discriminant.

Let's try to do this from examples starting from the beginning again. The very first
criticality discriminant is just $f$. Here $n$ is 1. We want to solve for $\Delta x$ given $\Delta y$.
The linear approximation of $f$ is $f + f_x \Delta x + f_y \Delta y$, and we ignore the $f$
part because it's zero, and ignore the $f_y\Delta y$ because it's a constant, so our discriminant is just
$f_x$.

Next our two criticality conditions are $f$ and $f_x$. Here $n = 2$. We want to solve for $\Delta x, \Delta y$
given $\Delta z$. The linear approximations of $f,f_x$ at a point where both of them are zero is
\[ f_{x}\Delta x + f_{y}\Delta y + C\]
\[ f_{xx}\Delta x + f_{xy}\Delta y + C\]
so the result is the determinant
\[
\left|\begin{array}{ccc}
f_{x} & f_{y} \cr
f_{xx} & f_{xy}
\end{array}\right|
\]

Let's just practice on a generic $f_\sigma f_{\sigma'}$. What is its linear approximation?
It'll be
\[ (f_\sigma + f_{\sigma x_1} \Delta x_1 + \cdots + f_{\sigma x_n} \Delta x_n)
(f_{\sigma'} + f_{{\sigma'} x_1} \Delta x_1 + \cdots + f_{{\sigma'} x_n} \Delta x_n) \]
\[ =  f_{\sigma'}( f_{\sigma x_1} \Delta x_1 + \cdots + f_{\sigma x_n} \Delta x_n)
+ f_\sigma(  f_{{\sigma'} x_1} \Delta x_1 + \cdots + f_{{\sigma'} x_n} \Delta x_n) \]
\[ =  \Delta x_1 (f_{\sigma'} f_{\sigma x_1} + f_\sigma f_{{\sigma'} x_1} )
+ \cdots + \Delta x_n (f_{\sigma'} f_{\sigma x_n} + f_\sigma f_{{\sigma'} x_n} )\]

What if we have $\prod_{i = 1}^k f_{\sigma_i}$? That'll be
\[\prod_{i=1}^k \left(f_{\sigma_i} + \sum_{j = 1}^n f_{\sigma_i x_j} \Delta x_j \right)\]
\[= \left(\prod_{i=1}^k f_{\sigma_i}\right) + \sum_{i = 1}^k \left(\prod_{i' \ne i} f_{\sigma_{i'}}\right) \sum_{j = 1}^n
 f_{\sigma_i x_j} \Delta x_j \]
\[=  \sum_{i = 1}^k \left(\prod_{i' \ne i} f_{\sigma_{i'}}\right) \sum_{j = 1}^n
 f_{\sigma_i x_j} \Delta x_j \]
\[= \sum_{j = 1}^n \Delta x_j \sum_{i = 1}^k \left(\prod_{i' \ne i} f_{\sigma_{i'}}\right)  f_{\sigma_i x_j}  \]
So the $j^{th}$ entry in the row for that criticality condition is
\[\sum_{i = 1}^k \left(\prod_{i' \ne i} f_{\sigma_{i'}}\right)  f_{\sigma_i x_j}\]

Does this match up with what I had for the $f_{xx}f_y$ case? It predicts:

\[  f_{\sigma_{2}}  f_{\sigma_1 x_j} + f_{\sigma_{1}}  f_{\sigma_2 x_j}\]
\[  = f_{y}  f_{xx x_j} + f_{xx}  f_{y x_j}\]
\[  = (f_{y}  f_{xx x} + f_{xx}  f_{y x}, f_{y}  f_{xx y} + f_{xx}  f_{y y}, f_{y}  f_{xx z} + f_{xx}  f_{y z})\]
so yes!

Another way of phrasing the criticality condition row entry is
\[C(f_\mu)_j = \sum_{\sigma \in \mu} {f_\mu  f_{\sigma + x_j}\over f_\sigma}\]
And I think it's linear over linear combinations as well. So if I start with a list of
criticality conditions $\tau_1, \ldots, \tau_n$, the next one is
\[|C| = 0\]
where $C$ is the matrix defined by
\[C_{ij} = \sum_{\mu\in\tau_i}\sum_{\sigma \in \mu} {f_\mu  f_{\sigma + x_j}\over f_\sigma}\]
Let's revisit my table in light of that:
\[
\begin{tabular}{l|l}
  \hline
1&$f $\\
2&$f_x $\\
3&$f_{xx}f_y - f_x f_{xy}$\\
4&$D_4$\\
\end{tabular}
\]
where $D_4$ is
\[\left|\begin{array}{ccc}
f_x & f_{y} & f_{z}\cr
f_{xx} & f_{xy} & f_{xz} \cr
f_{xx}f_{xy} + f_yf_{xxx}\atop - f_{xx}f_{xy} - f_x f_{xxy} & \cdots & \cdots \cr
\end{array}\right|\]
Wait, there's a big simplification staring me right in the face here. This mucking around
with multisets is just taking derivatives.
I want to define the functions $D_i$ inductively. We say $D_1 = f$. We say
\[ D_{n+1} = \det_{1\le i,j \le n} {\partial D_i \over \partial x_j}  \]
A point is $n$-critical if $D_1 = \cdots = D_n = 0$. That's it! So nice and simple.

\subsubsection*{Finishing the Computation of $D_4$}
Using $f_x = 0$ we know that $D_4=$
\[\left|\begin{array}{ccc}
0 & f_{y} & f_{z}\cr
f_{xx} & f_{xy} & f_{xz} \cr
 f_{xxx}f_y + f_{xx}f_{yx}
& f_{xxy}f_y + f_{xx}f_{yy}
& f_{xxz}f_y + f_{xx}f_{yz}
\end{array}\right|\]
which is
\[- f_y f_{xx} (f_{xxz}f_y + f_{xx}f_{yz}) +  f_y f_{xz} (f_{xxx}f_y + f_{xx}f_{yx})\]
\[- f_z f_{xy} (f_{xxx}f_y + f_{xx}f_{yx}) +  f_z f_{xx} (f_{xxy}f_y + f_{xx}f_{yy})\]
which simplifies under the assumption that $f_{xx} f_y = 0$ to
\[  f_y f_{xz} f_{xxx}f_y - f_z f_{xy} f_{xxx}f_y - f_z f_{xy} f_{xx}f_{yx} +  f_z f_{xx}  f_{xx}f_{yy}\]
\[ =  f_{xxx}f_y ( f_{xz} f_y - f_z f_{xy})  +  f_{xx}f_z ( f_{xx}  f_{yy} -  f^2_{xy} ) \]

\subsubsection*{Thinking of this as a proof system}

Here are some examples:
\[ \prov f \]
\[ x \prov f_x  \]
\[ x, y\prov f_{xx}f_y  \]
\[ x, y \prov^- f_{xy} f_{x}  \]
\[
\erule
{
\[
\justifies
x, y \prov f_{xx} f_y
\]
\[
\justifies
 x \prov f_{x}
\]
\[
\justifies
  \prov f
\]
}
{x, y, z\prov f_{xxx}f_y f_{xz} f_y  }
\]
Here are some putative rules:
\[
\erule
{\Gamma ; \sigma  \pprov e}
{\Gamma \prov^{|\sigma|} e}
\]
\[
\erule
{\Gamma \prov e \qquad {\partial \over \partial y} e  \mapsto e_1 \qquad \Gamma ; \sigma \pprov e_2}
{\Gamma, x; \sigma, y \pprov e_1 e_2}
\]
\[
\erule
{}
{\pprov f}
\]
But the context discipline doesn't really work that well. Let me just say contexts are numbers,
and permutations $\sigma$ are really permutations of numbers. Say $\sigma : n$ when it's a permutation of
$0..n-1$. The symbol $S$ is a multiset of numbers.
The symbol $e$ is a multiset of multisets of numbers. Write $\cup$ for multiset union.
The symbol $|\sigma|$ is the sign of a permutation. The judgment $n ; \sigma \pprov e$ requires
that $\sigma$ is a list of numbers with $n$ entries. The variables $i, j$ are
in $\{-1,1\}$. The relation $e + n \mapsto e_1$ holds if there is some way of adding $n$ to one of the multisets in $e$.
\[
\erule
{n ; \sigma  \pprov^i e \qquad \sigma :n \qquad |\sigma| = j}
{n \prov^{ij} e}
\]
\[
\erule
{n \prov^i e \qquad  e + \sigma(n) \mapsto e_1 \qquad n ; \sigma \pprov^j e_2 }
{n + 1; \sigma \pprov^{ij} e_1 \cup e_2}
\]
\[
\erule
{}
{0 ; \sigma\pprov^1 \emptyset}
\]
\[
\erule
{}
{(e \cup  \{S\}) + n \mapsto e \cup \{S \cup \{n\}\}}
\]

\subsubsection*{Revision}
The above version is broken in various ways. Let's start over with better notation.

We previously required that $\sigma$ in $n;\sigma$ has {\em at least} $n$ entries, I think I can do it with exactly $n$.
Repurpose the notation $|\sigma|$ for the {\em length} of a list of variables $\sigma$.
Write $n \prov^j \sigma : \pi$ to mean $\sigma$ is a permutation of $x_0,\ldots, x_{n-1}$ with sign $j$,
and only holds when $n > 0$.
The judgment $e' \in D_x e$ is supposed to mean that $e'$ is one of the terms appearing in the $x$-derivative of $e$.
We write $\prov^-$ for $\prov^{-1}$ and $\prov$ for $\prov^+$.
\[
\erule
{}
{0 \prov f}
\qquad
\erule
{ n \prov^i \sigma :\pi \qquad \sigma  \pprov^j e    }
{n \prov^{ij} e}
\]
\[
\erule
{}
{\cdot \pprov 1}
\qquad
\erule
{|\sigma| \prov^i e \qquad  e_1 \in D_x e   \qquad  \sigma \pprov^j e_2 }
{x, \sigma \pprov^{ij} e_1  e_2}
\]
\[
\erule
{}
{f_{\rho x} \in D_x (f_{\rho}e) }
\qquad
\erule
{e' \in D_x e }
{e' \in D_x (f_{\rho}e) }
\]
With these I can prove

\[
\erule
{
\[
\justifies
1 \prov x : \pi
\]
\[
\[
\justifies
0 \prov f
\]
\quad
f_x \in D_xf
\quad
\[
\justifies
\cdot \pprov 1
\]
\justifies
x \pprov f_x
\]
}
{1\prov f_x}
\]

\[
\erule
{
\[
\justifies
2 \prov x,y : \pi
\]
\[
\[
\justifies
1 \prov f_x
\]
\quad
f_{xx} \in D_xf_x
\quad
\[
\[
\justifies
0 \prov f
\]
\quad
f_{y} \in D_yf
\quad
\[
\justifies
\cdot \pprov 1
\]
\justifies
y \pprov f_y
\]
\justifies
x,y \pprov f_{xx}f_y
\]
}
{2\prov f_{xx}f_y}
\]

\[
\erule
{
\[
\justifies
2 \prov^- y,x : \pi
\]
\[
\[
\justifies
1 \prov f_x
\]
\quad
f_{xy} \in D_yf_x
\quad
\[
\[
\justifies
0 \prov f
\]
\quad
f_{x} \in D_xf
\quad
\[
\justifies
\cdot \pprov 1
\]
\justifies
x \pprov f_x
\]
\justifies
y,x \pprov f_{xy}f_x
\]
}
{2\prov^- f_{xy}f_x}
\]

\subsubsection*{Notions of Criticality Bifurcate?}

Suppose I have a $3$-critical point where $f, f_x, f_y = 0$ but $f_{xx} \ne 0$.
This for example would be something like $f = x^2 + y^2 + z$.

If I'm trying to push this forward in the $w$ direction, the 4-criticality discriminant
\[  f_{xxx}f_y ( f_{xz} f_y - f_z f_{xy})  +  f_{xx}f_z ( f_{xx}  f_{yy} -  f^2_{xy} ) \]
simplifies, knowing what I know, to
\[  f_z ( f_{xx}  f_{yy} -  f^2_{xy} ) \]
Is this right? The discriminant of the derivatives of $f, f_x, f_y$ is
\[\left|\begin{array}{ccc}
0 & 0 & f_{z}\cr
f_{xx} & f_{xy} & f_{xz}\cr
f_{xy} & f_{yy} & f_{yz}
\end{array}\right|\]
so yeah, it checks out.
\subsubsection*{Manually computing the 5-criticality discriminant}
So we have
\[f, f_x, f_{xx}f_y, f_{xxx}f_y ( f_{xz} f_y - f_z f_{xy})  +  f_{xx}f_z ( f_{xx}  f_{yy} -  f^2_{xy} )\]
The big discriminant is going to start out
\[\left|\begin{array}{cccc}
f_{x} & f_{y} & f_{z} & f_{w} \cr
f_{xx} & f_{xy} & f_{xz} & f_{xw} \cr
f_{xxx}f_{y} + f_{xx}f_{xy}& f_{xxy} f_y + f_{xx}f_{yy} &
f_{xxz}f_{y} + f_{xx}f_{yz}& f_{xxw} f_y + f_{xx}f_{yw} \cr
\cdots
\end{array}\right|\]
which we can simplify a tiny bit to
\[\left|\begin{array}{cccc}
0 & f_{y} & f_{z} & f_{w} \cr
f_{xx} & f_{xy} & f_{xz} & f_{xw} \cr
f_{xxx}f_{y} + f_{xx}f_{xy}& f_{xxy} f_y + f_{xx}f_{yy} &
f_{xxz}f_{y} + f_{xx}f_{yz}& f_{xxw} f_y + f_{xx}f_{yw} \cr
\cdots
\end{array}\right|\]
And the last row is
\[ Z_R = f_{xxxR}f_y ( f_{xz} f_y - f_z f_{xy})  +  f_{xxR}f_z ( f_{xx}  f_{yy} -  f^2_{xy} ) +\]
\[ f_{xxx}f_{yR} ( f_{xz} f_y - f_z f_{xy})  +  f_{xx}f_{zR} ( f_{xx}  f_{yy} -  f^2_{xy} ) + \]
\[f_{xxx}f_y ( f_{xzR} f_y + f_{xz} f_{Ry} - f_{zR} f_{xy} - f_{z} f_{xyR}) +  \]
\[  f_{xx}f_z ( f_{xxR} f_{yy} + f_{xx} f_{yyR} -  2f_{xy}f_{xyR} ) \]
For $R  \in\{x, y, z, w\}$.

Oof, not sure I can do this by hand. Let's see if I can complete the tree a bit, though.

Starting from $f,f_x,f_{xx},f_{xxx}$ I get
\[\left|\begin{array}{cccc}
0 & f_{y} & f_{z} & f_{w} \cr
0 & f_{xy} & f_{xz} & f_{xw} \cr
0 & f_{xxy}  &  f_{xxz} &  f_{xxw} \cr
f_{xxxx} & f_{xxxy} &  f_{xxxz} &  f_{xxxw}
\end{array}\right|\]
Which I could notate as $f_{xxxx}(R.(f_R, f_{xR}, f_{xxR}))$
Then $f_{},f_{x},f_{y},f_{z}$ gives me
\[\left|\begin{array}{cccc}
0 & 0 & 0 & f_{w}\cr
f_{xx} & f_{xy} & f_{xz} & f_{xw}\cr
f_{yx} & f_{yy} & f_{yz} & f_{yw}\cr
f_{zx} & f_{zy} & f_{zz} & f_{zw}\cr
\end{array}\right|\]
So this is  $f_w (R. (f_{xR}, f_{yR}, f_{zR}))$.

Ok, let's examine the path $f, f_x, f_{xx}, (f, f_{x})_{yz}$. We get the determinant


\[\left|\begin{array}{cccc}
f_{x} & f_{y} & f_{z} & f_{w} \cr
f_{xx} & f_{xy} & f_{xz} & f_{xw} \cr
f_{xxx} & f_{xxy} & f_{xxz} & f_{xxw} \cr
f_{yx} f_{xz} - f_{xyx} f_{z}  + {} &
f_{yy} f_{xz} - f_{xyy} f_{z}  + {} &
f_{yz} f_{xz} - f_{xyz} f_{z}  + {} &
f_{yw} f_{xz} - f_{xyw} f_{z}  + {}
\cr
f_{y} f_{xzx} - f_{xy} f_{zx} &
f_{y} f_{xzy} - f_{xy} f_{zy} &
f_{y} f_{xzz} - f_{xy} f_{zz} &
f_{y} f_{xzw} - f_{xy} f_{zw}
\end{array}\right|\]
which simplifies to
\[\left|\begin{array}{cccc}
0 & f_{y} & f_{z} & f_{w} \cr
0 & f_{xy} & f_{xz} & f_{xw} \cr
f_{xxx} & f_{xxy} & f_{xxz} & f_{xxw} \cr
f_{yx} f_{xz} - f_{xyx} f_{z}  + {} &
f_{yy} f_{xz} - f_{xyy} f_{z}  + {} &
f_{yz} f_{xz} - f_{xyz} f_{z}  + {} &
f_{yw} f_{xz} - f_{xyw} f_{z}  + {}
\cr
f_{y} f_{xzx} - f_{xy} f_{zx} &
f_{y} f_{xzy} - f_{xy} f_{zy} &
f_{y} f_{xzz} - f_{xy} f_{zz} &
f_{y} f_{xzw} - f_{xy} f_{zw}
\end{array}\right|\]
and I don't have to consider any paths that go through the $(f_y, f_z ; f_{xy} , f_{xz})$ block.
So this is something like (though I may have got some signs wrong)
\[(f_{yx} f_{xz} - f_{xyx} f_{z} + f_{y} f_{xzx} - f_{xy} f_{zx}) (f_{}, f_{x}, f_{xx})_{yzw}\]
\[{} - (f_{yy} f_{xz} - f_{xyy} f_{z} + f_{y} f_{xzy} - f_{xy} f_{zy}) f_{xxx} (f_{}, f_{x})_{zw}\]
\[{} + (f_{yz} f_{xz} - f_{xyz} f_{z} + f_{y} f_{xzz} - f_{xy} f_{zz}) f_{xxx} (f_{}, f_{x})_{yw}\]
\[
\begin{tikzcd}
&&&& {xxxx}\\
&&&& (1, {x}, {xx} / y,z,w)\\
&&& {xxx}\ar[ruu]\ar[ru]\\
  1 \ar[r]& x \ar[r]\ar[rd]& {xx}\ar[r]\ar[ru] & (1,x / y,z)\\
&& y \ar[r]\ar[rd] & ({x}, {y} / x, y) \\
&&&{z}\ar[rdd]\ar[rd]\\
&&&& ({x}, {y}, {z}/ x,y,z)\\
&&&& {w}
\end{tikzcd}
\]
Is there an easier way to express ${\partial\over\partial z}(f_{}, g)_{xy}?$
It should be $(f_{z}, g)_{xy} + (f_{}, g_{z})_{xy}$, shouldn't it?
Let me abbreviate that as $(f_{}, g)_{xy(z)}$.
So I might as well have written
\[\left|\begin{array}{cccc}
f_{x} & f_{y} & f_{z} & f_{w} \cr
f_{xx} & f_{xy} & f_{xz} & f_{xw} \cr
f_{xxx} & f_{xxy} & f_{xxz} & f_{xxw} \cr
(f_{ }, f_{x})_{yz(x)} &
(f_{ }, f_{x})_{yz(y)} &
(f_{ }, f_{x})_{yz(z)} &
(f_{ }, f_{x})_{yz(w)} \cr
\end{array}\right|\]
which does simplify to
\[\left|\begin{array}{cccc}
0 & f_{y} & f_{z} & f_{w} \cr
0 & f_{xy} & f_{xz} & f_{xw} \cr
f_{xxx} & f_{xxy} & f_{xxz} & f_{xxw} \cr
(f_{y }, f_{xx})_{yz} &
(f_{y }, f_{x})_{yz(y)} &
(f_{z }, f_{x})_{yz(z)} &
(f_{w }, f_{x})_{yz(w)}
\end{array}\right|\]
which should be... oof, still hard.
Let me try the more symmetric case.

\subsubsection*{The $1, x, y, (x, y / x,y)$ path}
\[\left|\begin{array}{cccc}
0 & 0 & f_{z} & f_{w} \cr
f_{xx} & f_{xy} & f_{xz} & f_{xw} \cr
f_{yx} & f_{yy} & f_{yz} & f_{yw} \cr
(f_{x}, f_{y})_{xy(x)} &
(f_{x}, f_{y})_{xy(y)} &
(f_{x}, f_{y})_{xy(z)} &
(f_{x}, f_{y})_{xy(w)} \cr
\end{array}\right|\]
Here maybe I can enumerate the paths:
\[f_z
\left|\begin{array}{cccc}
f_{xx} & f_{xy}  & f_{xw} \cr
f_{yx} & f_{yy}  & f_{yw} \cr
(f_{x}, f_{y})_{xy(x)} &
(f_{x}, f_{y})_{xy(y)} &
(f_{x}, f_{y})_{xy(w)} \cr
\end{array}\right|
\]
\[
{} - f_w \left|\begin{array}{cccc}
f_{xx} & f_{xy} & f_{xz} \cr
f_{yx} & f_{yy} & f_{yz}  \cr
(f_{x}, f_{y})_{xy(x)} &
(f_{x}, f_{y})_{xy(y)} &
(f_{x}, f_{y})_{xy(z)} \cr
\end{array}\right|\]
\[ = f_z f_{xw} (f_{xy} (f_x,f_y)_{xy(y)} - f_{yy} (f_x, f_y)_{xy(x)}) \]
\[ - f_z f_{yw} (f_{xx} (f_x,f_y)_{xy(y)} - f_{xy} (f_x, f_y)_{xy(x)}) \]
\[ - f_w f_{xz} (f_{xy} (f_x,f_y)_{xy(y)} - f_{yy} (f_x, f_y)_{xy(x)}) \]
\[ + f_w f_{yz} (f_{xx} (f_x,f_y)_{xy(y)} - f_{xy} (f_x, f_y)_{xy(x)}) \]
\[ = (f, f_{x})_{zw} (f_{xy} (f_x,f_y)_{xy(y)} - f_{yy} (f_x, f_y)_{xy(x)}) \]
\[ + (f, f_y)_{wz} (f_{xx} (f_x,f_y)_{xy(y)} - f_{xy} (f_x, f_y)_{xy(x)}) \]
\[ = [zw/c][xy/b][xy/a]((f_c, f_{ac}) (f_{b\bar a} (f_x,f_y)_{xy(\bar b)})???\]

Ok, new notation. Let $[xy/a]e(a, \bar a)$ stand for $e(x,y) - e(y,x)$.
In this case, the $(1,x/y,z)$ derivative of $f$ could be represented as $[yz/a] f_a f_{x\bar a}$
or equivalently $[1x/a]f_{ya}f_{z\bar a}$.

So
\[   (f, f_{x})_{zw} (f_{xy} (f_x,f_y)_{xy(y)} - f_{yy} (f_x, f_y)_{xy(x)}) \]
\[ + (f, f_y)_{wz} (f_{xx} (f_x,f_y)_{xy(y)} - f_{xy} (f_x, f_y)_{xy(x)}) \]
\[ = (f, f_{x})_{zw} (f_{xy} (f_x,f_y)_{xy(y)} - f_{yy} (f_x, f_y)_{xy(x)}) \]
\[ - (f, f_y)_{zw} (f_{xx} (f_x,f_y)_{xy(y)} - f_{xy} (f_x, f_y)_{xy(x)}) \]
\[ = [xy/a](f, f_{a})_{zw} (f_{x\bar a} (f_x,f_y)_{xy(y)} - f_{\bar a y} (f_x, f_y)_{xy(x)}) \]
\[ = [zw/b][xy/a] f_b f_{a\bar b} (f_{x\bar a} (f_x,f_y)_{xy(y)} - f_{\bar a y} (f_x, f_y)_{xy(x)}) \]
\[ = [xy/c][zw/b][xy/a] f_b f_{a\bar b} (f_{c\bar a} (f_x,f_y)_{xy(\bar c)} ) \]
\[ = [xy/c][zw/b][xy/a] f_b f_{a\bar b} f_{c\bar a} D_{\bar c} (f_x,f_y)_{xy}  \]
\[ = [xy/d][xy/c][zw/b][xy/a] f_b f_{a\bar b} f_{c\bar a} D_{\bar c} (f_{xd},f_{y\bar d})  \]
\[ = [xy/d][xy/c][zw/b][xy/a] f_b f_{a\bar b} f_{c\bar a}  (f_{xd\bar c}f_{y\bar d} + f_{xd}f_{y\bar d\bar c})  \]

\subsubsection*{Figuring out notation clearly}

Generally I want to say that $[x_1,\ldots,x_n/a]e$ means
\[\sum_\sigma (-1)^{|\sigma|}[x_{\sigma 1}/a_1]\cdots [x_{\sigma n}/a_n] e \]
so specifically $[xy/a]e(a_1, a_2) = e(x,y) - e(y,x)$. And maybe I'll write $a, \bar a$ for $a_1,a_2$
in the special case of $n=2$.

Let's also have $(x_1,\ldots,x_n/a)$ mean the same thing but not alternating:
\[\sum_\sigma [x_{\sigma 1}/a_1]\cdots [x_{\sigma n}/a_n] e \]

Let's try the path $f, f_x, f_{xx}, [yz/a] f_a f_{x\bar a}$ again.
The determinant can be expressed as
\[[xyzw/b] f_{b_1} f_{xb_2} f_{xxb_3} D_{b_4}( [yz/a] f_a f_{x\bar a})\]
\[ = [xyzw/b] [yz/a] f_{b_1} f_{xb_2} f_{xxb_3} D_{b_4}(  f_a f_{x\bar a})\]
\[ = [xyzw/b] [yz/a] (b_4 1 / c) f_{b_1} f_{xb_2} f_{xxb_3}   f_{ac} f_{x\bar a\bar c}\]

which is
\[ [yz/a] \left|\begin{array}{cccc}
f_{x} & f_{y} & f_{z} & f_{w} \cr
f_{xx} & f_{xy} & f_{xz} & f_{xw} \cr
f_{xxx} & f_{xxy} & f_{xxz} & f_{xxw} \cr
D_x f_a f_{x\bar a}&
D_y f_a f_{x\bar a}&
D_z f_a f_{x\bar a}&
D_w f_a f_{x\bar a}
\end{array}\right|\]
\[= [yz/a] \left|\begin{array}{cccc}
0 & f_{y} & f_{z} & f_{w} \cr
0 & f_{xy} & f_{xz} & f_{xw} \cr
f_{xxx} & f_{xxy} & f_{xxz} & f_{xxw} \cr
f_a f_{xx\bar a}&
D_y f_a f_{x\bar a}&
D_z f_a f_{x\bar a}&
D_w f_a f_{x\bar a}
\end{array}\right|\]
\[= [yz/a] \left( f_w \left|\begin{array}{cccc}
0 & f_{xy} & f_{xz}  \cr
f_{xxx} & f_{xxy} & f_{xxz}  \cr
f_a f_{xx\bar a}&
D_y f_a f_{x\bar a}&
D_z f_a f_{x\bar a}
\end{array}\right|\right.\]
\[- \left. f_{xw} \left|\begin{array}{cccc}
0 & f_{y} & f_{z}  \cr
f_{xxx} & f_{xxy} & f_{xxz}  \cr
f_a f_{xx\bar a}&
D_y f_a f_{x\bar a}&
D_z f_a f_{x\bar a}
\end{array}\right|\right)\]
\[= [yz/a] [1x/b] f_{bw} \left|\begin{array}{cccc}
0 & f_{\bar b y} & f_{\bar b z}  \cr
f_{xxx} & f_{xxy} & f_{xxz}  \cr
f_a f_{xx\bar a}&
D_y f_a f_{x\bar a}&
D_z f_a f_{x\bar a}
\end{array}\right| \]
\[= [yz/a] [1x/b] f_{bw} \left( f_{\bar b y}\left|\begin{array}{cccc}
f_{xxx}  & f_{xxz}  \cr
f_a f_{xx\bar a}&
D_z f_a f_{x\bar a}
\end{array}\right| \right. \]
\[- f_{\bar b z} \left. \left|\begin{array}{cccc}
f_{xxx} & f_{xxy}  \cr
f_a f_{xx\bar a}&
D_y f_a f_{x\bar a}
\end{array}\right| \right)\]
\[= [yz/a] [1x/b] [yz/c] f_{bw}  f_{\bar b c}\left|\begin{array}{cccc}
f_{xxx}  & f_{xx \bar c}  \cr
f_a f_{xx\bar a}&
D_{\bar c} f_a f_{x\bar a}
\end{array}\right|  \]
\[= [yz/a] [1x/b] [yz/c] f_{bw}  f_{\bar b c}\left|\begin{array}{cccc}
f_{xxx}  & f_{xx \bar c}  \cr
D_x f_a f_{x\bar a}&
D_{\bar c} f_a f_{x\bar a}
\end{array}\right|  \]
\[= [yz/a] [1x/b] [yz/c] [x\bar c / d] f_{bw}  f_{\bar b c} f_{xxd} D_{\bar d} f_a f_{x\bar a} \]
\[= [yz/a] [1x/b] [yz/c] [x\bar c / d] (1\bar d / e) f_{bw}  f_{\bar b c} f_{xxd}  f_{a e} f_{x\bar a \bar e} \]
Hm, this still feels like a mess.

\subsubsection*{Shorter unified path}

What if I go back and try to deal with $f_{xx} f_y$ as a single thing.
Does anything interesting pop out there with new notation?
My path is $f, f_x, f_{xx}f_y$.
\[\left|\begin{array}{cccc}
f_{x} & f_{y} & f_{z} \cr
f_{xx} & f_{xy} & f_{xz} \cr
D_x f_{xx} f_y & D_y f_{xx} f_y & D_z f_{xx} f_y
\end{array}\right|  \]
\[= \left|\begin{array}{cccc}
0 & f_{y} & f_{z} \cr
f_{xx} & f_{xy} & f_{xz} \cr
D_x f_{xx} f_y & D_y f_{xx} f_y & D_z f_{xx} f_y
\end{array}\right|  \]
\[= f_y \left|\begin{array}{cccc}
f_{xx}  & f_{xz} \cr
D_x f_{xx} f_y &  D_z f_{xx} f_y
\end{array}\right|  -
f_z \left|\begin{array}{cccc}
f_{xx} & f_{xy}  \cr
D_x f_{xx} f_y & D_y f_{xx} f_y
\end{array}\right|
\]
\[= [yz/a] f_a \left|\begin{array}{cccc}
f_{xx}  & f_{x\bar a} \cr
D_x f_{xx} f_y &  D_{\bar a} f_{xx} f_y
\end{array}\right|
\]
\[= [yz/a][x\bar a / b] f_a f_{x b} (f_{xx} f_y)_{\bar b}\]
and indeed as I expect from before this is also
\[= f_y (f_{x x} (f_{xx} f_y)_z - f_{x z} (f_{xx} f_y)_{x})
- f_z (f_{x x} (f_{xx} f_y)_{y} - f_{x y} (f_{xx} f_y)_{x})\]
\[= f_y ( - f_{x z} (f_{xxx} f_y))
- f_z (f_{x x} (f_{xx} f_{yy}) - f_{x y} (f_{xx} f_{xy} + f_{xxx} f_y))\]
\[ =  f_{xxx}f_y ( f_{xz} f_y - f_z f_{xy})  +  f_{xx}f_z ( f_{xx}  f_{yy} -  f^2_{xy} ) \]
But I can't figure out how to simplify this any further.

\subsubsection*{Guessing Wildly}

Let \[D^4 = [yz/a][x\bar a / b] f_a f_{x b} (f_{xx} f_y)_{\bar b}\]
I might imagine that an expression for the next dimension up might be
\[ D^5 = [zw/a][y\bar a/b][x\bar b / c] f_a f_{x b} (f_{xx} f_y)_{c} D^4_{\bar c}\]
Let me work this pattern back up one: then I'd have
\[D^3 = [xy/a] f_a f_{x \bar a} \]
which actually is right! So I'm conjecturing
\[ D^5 = [zw/a][y\bar a/b][x\bar b / c] D^1_a D^2_{b} D^3_{c} D^4_{\bar c}\]

Ok, let me do the determinant calculation with $f, f_x, D^3, D^4$.
\[
\left|\begin{array}{cccc}
f_{x} & f_{y} & f_{z} & f_{w}\cr
f_{xx} & f_{xy} & f_{xz} & f_{xw}\cr
D^3_x & D^3_y & D^3_z & D^3_w \cr
D^4_x & D^4_y & D^4_z & D^4_w \cr
\end{array}\right|
=
\left|\begin{array}{cccc}
0 & f_{y} & f_{z} & f_{w}\cr
f_{xx} & f_{xy} & f_{xz} & f_{xw}\cr
D^3_x & D^3_y & D^3_z & D^3_w \cr
D^4_x & D^4_y & D^4_z & D^4_w \cr
\end{array}\right|
\]
\[ = [yzw/a] f_{a_1} \left|\begin{array}{cccc}
f_{xx} & f_{xa_2} & f_{xa_3} \cr
D^3_x & D^3_{a_2} & D^3_{a_3} \cr
D^4_x & D^4_{a_2} & D^4_{a_3}
\end{array}\right|
\]
\[ = [yzw/a] [xa_2a_3 / b] f_{a_1} f_{x b_1} \left|\begin{array}{cccc}
D^3_{b_2} & D^3_{b_3} \cr
D^4_{b_2} & D^4_{b_2}
\end{array}\right|
\]
\[ = [yzw/a] [xa_2a_3 / b] [b_2b_3 / c] f_{a_1} f_{x b_1}D^3_{c} D^4_{\bar c}\]

Now is it at all possible that $[yzw/a][xa_2a_3 / b] [b_2b_3 / c]e(a_1, b_1, c, \bar c)$
could be the same as $[zw/a][y\bar a/ b] [x\bar b / c]e(a, b, c, \bar c)$?

\subsubsection*{Another Unified Path Expansion}
Here $f = g = h = k$, I'm just giving them different names to track provenance of expressions.
\[\left|\begin{array}{cccc}
f_{x} & f_{y} & f_{z} \cr
g_{xx} & g_{xy} & g_{xz} \cr
D_x h_{xx} k_y & D_y h_{xx} k_y & D_z h_{xx} k_y
\end{array}\right|  \]
\[= \left|\begin{array}{cccc}
0 & f_{y} & f_{z} \cr
g_{xx} & g_{xy} & g_{xz} \cr
D_x h_{xx} k_y & D_y h_{xx} h_y & D_z h_{xx} k_y
\end{array}\right|  \]
\[= f_y \left|\begin{array}{cccc}
g_{xx}  & g_{xz} \cr
D_x h_{xx} k_y &  D_z h_{xx} k_y
\end{array}\right|  -
f_z \left|\begin{array}{cccc}
g_{xx} & g_{xy}  \cr
D_x h_{xx} k_y & D_y h_{xx} k_y
\end{array}\right|
\]
\[= f_y \left|\begin{array}{cccc}
0  & g_{xz} \cr
 h_{xxx} k_y &  D_z h_{xx} k_y
\end{array}\right|  -
f_z \left|\begin{array}{cccc}
g_{xx} & g_{xy}  \cr
D_x h_{xx} k_y &  h_{xx} k_{yy}
\end{array}\right|
\]
\[ = -f_y g_{xz} h_{xxx} k_y - f_z g_{xx} h_{xx} k_{yy} + f_z g_{xy}(h_{xx}k_y)_x \]
\[ = -f_y g_{xz} h_{xxx} k_y - f_z g_{xx} h_{xx} k_{yy} + f_z g_{xy}h_{xxx}k_y + f_z g_{xy}h_{xx}k_{xy} \]
\[ = k_y h_{xxx} (f_z g_{xy} - g_{xz}  f_y) + h_{xx}f_z( g_{xy}k_{xy} - g_{xx}  k_{yy}  )  \]


So the patterns are
\[ \left[\begin{array}{cc}1 & -1 \cr -1 & 1 \end{array}\right]
\qquad
D\left[\begin{array}{cc}z & y \cr z & z \end{array}\right] f\]
\[D \left[\begin{array}{cc}xy & xz \cr xy & xx \end{array}\right]g
\qquad
D\left[\begin{array}{cc}xxx & xxx \cr xx & xx \end{array}\right] h
\qquad
D\left[\begin{array}{cc}y & y \cr xy & yy \end{array}\right] k
\]





\end{document}
