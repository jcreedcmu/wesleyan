\documentclass{article}
%\usepackage[tmargin=0.15in, bmargin=0.15in]{geometry}
\input{theorem}
\input{prooftree}
\usepackage{relsize}
\usepackage{stmaryrd}
\usepackage{latexsym}
\usepackage{yfonts}
\usepackage{amsmath}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage{tikz}
\usetikzlibrary{calc,arrows,cd,decorations.pathreplacing}
\usetikzlibrary{decorations.pathmorphing}
\usepackage{tcolorbox}
\tcbuselibrary{breakable}
\usepackage{listings}
\lstset{basicstyle=\ttfamily\footnotesize,breaklines=true}

\def\zed{\emptyset}
\def\lint{{\textstyle\int}}
\def\isopen{\textcolor{orange}{\mathlarger{\mathlarger{\mathlarger{\textbf ?}}}}}
\def\isok{\textcolor{green}{\mathlarger{\mathlarger{\mathlarger{\checkmark}}}}}
\def\isbad{\textcolor{red}{\mathlarger{\mathlarger{\mathlarger{\x}}}}}

\def\mhave{\textcolor{blue}{\hbox{have}}}
\def\mwant{\textcolor{orange}{\hbox{want}}}

\def\chave{\eqno\mhave}
\def\cset{\eqno \textcolor{green}{\hbox{set}}}
\def\cwant{\eqno\mwant}
\def\gol{\sqsubset}
\def\gor{\sqsupset}

\def\sp{\bullet}
\def\ot{\leftarrow}
\def\prequiv{\dashv\vdash}
\def\fdom{{\mathbf{d}f}}
\def\fcod{{\mathbf{e}f}}
\def\fidom{\mathbf{\bar d}f}
\def\ficod{\mathbf{\bar e}f}

\def\thn{\mathrel|}
\def\coe{\mathsf{coe}}
\def\bpush{\mathbf{push}}
\def\bpull{\mathbf{pull}}

\definecolor{blu}{rgb}{0.1,0.5,1}
\definecolor{orng}{rgb}{1,0.5,0.3}

\def\wo{\setminus}
\def\fA{\mathsf{A}}
\def\fC{\mathsf{C}}
\def\fX{\mathsf{X}}
\def\ff{\mathsf{f}}
\def\fm{\mathsf{m}}
\def\rspan{\mathsf{Span}}
% \def\El#1{\mathsf{El}({#1})}
\def\El#1{\ulcorner{#1}\urcorner}
\def\U{\mathsf{U}}
\def\uu{\mathsf{u}}
\def\uni{\U}
\def\mor#1#2{#1 \to \underline{#2}}

\def\ridp{\mathsf{idp}}
\def\ssem#1{\langle\!\langle{#1}\rangle\!\rangle}

\definecolor{lred}{rgb}{0.95,0.8,0.8}
\definecolor{cyan}{rgb}{0.80,0.95,0.95}
\definecolor{lorange}{rgb}{0.95,0.90,0.80}
\definecolor{bluegray}{rgb}{0.6,0.6,0.85}
\definecolor{lgray}{gray}{0.8}
\newtcolorbox{declbox}{colframe=lred,colback=lred,grow to right by=-10mm,grow to left by=-10mm,
boxrule=0pt,boxsep=0pt,breakable}
\newtcolorbox{thmbox}{colframe=cyan,colback=cyan,grow to right by=-10mm,grow to left by=-10mm,
boxrule=0pt,boxsep=0pt,breakable}
\newtcolorbox{defnbox}{colframe=lorange,colback=lorange,grow to right by=-10mm,grow to left by=-10mm,
boxrule=0pt,boxsep=0pt,breakable}
\newtcolorbox{tangentbox}{colframe=lgray,colback=lgray,grow to right by=-10mm,grow to left by=-10mm,
boxrule=0pt,boxsep=0pt,breakable}

\input{linear}
\def\rpath#1{[#1]}
\def\rfst{\mathsf{fst}\,}
\def\rsnd{\mathsf{snd}\,}
\def\bunfold{\mathbf{unfold}}
\def\bfold{\mathbf{fold}}
\def\susp#1{\langle {#1} \rangle}
\def\ssusp#1{\langle\!\langle {#1} \rangle\!\rangle}
\def\dto{\mathrel{\dot\to}}
\def\dns{{\downarrow}}
\def\ups{{\uparrow}}
\def\sprov{\Vdash}
\def\signat{{\color{red}\Sigma}}
\def\ep#1{\underline{#1}}
\def\wat{\mathbin{@}}
\def\wwat{\mathbin{\underline\wat}}
\def\cn{{:}}
\def\dv{{\div}}
\def\ww{{\mathsf w}}
\def\base{{\textfrak b}}

\def\N{{\mathbb N}}
\def\Z{{\mathbb Z}}
\def\munit{I}
\def\tt{{\mathsf t}}
\def\ii{{\mathbb I}}
\def\T{\mathbb{T}}
\def\tw{\mathsf{Tw}}
\def\sw#1{^{#1}_{#1}}
\def\TP{\mathbf{TPre}}
\def\pp{\textsf{\textbf p}}
\def\nn{{\mathsf n}}
\def\PP{\textsf{\textbf P}}
\def\NN{\textsf{\textbf N}}
\def\zz{{\mathsf z}}
\def\sem#1{[\![#1]\!]}
\def\usem#1{\lceil\!\!\lceil{#1}\rceil\!\!\rceil}
\def\zem#1{\langle\!\langle#1\rangle\!\rangle}
\def\col#1{{\mathsf{C}}_{#1}}
\def\lax{\mathop\bigcirc}
\def\rjust{\mathsf{just}}
\def\rcvt{\mathsf{cvt}}
\def\rtype{\mathsf{type}}
\def\rdtype{\mathsf{disc}}
\def\rkind{\mathsf{kind}}
\def\rmode{\mathsf{mode}}
\def\rprel{\mathbf{Prel}}
\def\rrfam{\mathbf{Rfam}}
\def\rset{\mathbf{Set}}
\def\rfinset{\mathbf{FinSet}}
\def\rrel{\mathbf{Rel}}
\def\rcat{\mathbf{Cat}}
\def\rfam{\mathbf{Fam}}
\def\binj{\mathbf{inj}}
\def\rid{\mathsf{id}}
\def\rtrue{\mathrel\mathrm{true}}
\def\pbck{\ar[dr, phantom, pos=0, "\lrcorner"]}
\def\bpbck{\ar[ddrr, phantom, pos=0, "\lrcorner"]}
\def\erule#1#2{\begin{prooftree}#1\justifies #2\end{prooftree}}
\def\lpar{\bindnasrepma}
\def\lamp{\binampersand}
\def\btwo{\mathbf{2}}
\def\bone{\mathbf{1}}

\newarrow {Equiv} =====
\def\FinSet{\mathbf{FinSet}}
\def\x{\times}
\def\maps{\ar[dd,mapsto,shorten <=2em, shorten >=2em]}
\def\mapt{\ar[ddd,mapsto,shorten <=2em, shorten >=2em]}
\def\A{\mathbf{A}}
\def\B{\mathbf{B}}
\def\C{\mathbf{C}}
\def\G{\mathbf{G}}
\def\D{\mathbf{D}}
\def\DD{\mathbb{D}}
\def\E{\mathbf{E}}
\def\M{\mathbf{M}}
\def\pair#1#2{\langle#1,#2\rangle}
\def\ltri{{\lhd}}
\def\rtri{{\rhd}}
\def\tri{\rhd}
\def\ll{{<}}
\def\rr{{>}}
\def\cc{\mathsf{c}}
\def\dd{\mathsf{d}}
\def\o{\circ}
\def\rctx{\,\mathsf{ctx}}
\def\rdctx{\,\mathsf{dctx}}
\def\del{\partial}
\def\also#1{\ \textcolor{blue}{\celse #1}}
\newcounter{nodemaker}
\setcounter{nodemaker}{0}
\def\twocell#1#2{%
  \global\edef\mynodeone{twocell\arabic{nodemaker}}%
  \stepcounter{nodemaker}%
  \global\edef\mynodetwo{twocell\arabic{nodemaker}}%
  \stepcounter{nodemaker}%
  \ar[#1,phantom,shift left=3,""{name=\mynodeone}]%
  \ar[#1,phantom,shift right=3,""'{name=\mynodetwo}]%
  \ar[Rightarrow,#2,from=\mynodeone,to=\mynodetwo]%
}
\def\twocellswap#1#2{%
  \global\edef\mynodeone{twocell\arabic{nodemaker}}%
  \stepcounter{nodemaker}%
  \global\edef\mynodetwo{twocell\arabic{nodemaker}}%
  \stepcounter{nodemaker}%
  \ar[#1,phantom,shift right=3,""{name=\mynodeone}]%
  \ar[#1,phantom,shift left=3,""'{name=\mynodetwo}]%
  \ar[Rightarrow,#2,from=\mynodeone,to=\mynodetwo]%
}
\def\maps{\ar[dd,mapsto,shorten <=2em, shorten >=2em]}
\author{Jason Reed}
\definecolor{fib}{HTML}{ff7f00}
\definecolor{green}{HTML}{007f00}
\definecolor{red}{HTML}{df3f3f}
\definecolor{opfib}{HTML}{007fff}

% For lightening colors I used
% http://trycolors.com/ 6 parts white to 1 part color
\definecolor{opfibl}{HTML}{DBEDFF}
\definecolor{greenl}{HTML}{DBEDDB}
\definecolor{redl}{HTML}{FAE4E4}
\def\njudge#1{\fcolorbox{opfib}{white}{#1}}
\def\nrule#1{\fcolorbox{white}{opfibl}{#1}}
\def\neqn#1{\fcolorbox{white}{redl}{#1}}



\def\judge#1{\vskip 2em\noindent \njudge{$#1$}\vskip 0.5em\noindent}
\def\rule#1{\vskip 2em \noindent \nrule{$#1$}\vskip 0.5em\noindent}
\def\eqn#1{\vskip 2em \noindent \neqn{$#1$}\vskip 0.5em\noindent}
\def\prof{\nrightarrow}
\def\tensor{\otimes}
\def\htensor{\mathrel{\hat\otimes}}
\def\lol{\multimap}
\def\hlol{\mathrel{\hat\multimap}}
\def\wtf{{\color{red}???}}

\def\re{\mathbf{E}}
\def\sh{\sharp}
\def\shp{\mathrel{\sharp}}
\def\zero{\texttt{0}}
\title{Some Thoughts About Polytopes}
\begin{document}

\maketitle
\def\
\tikzset{
   commutative diagrams/.cd,
   arrow style=tikz,
   diagrams={>=stealth}}

\section{Definitions}

A coxeter diagram with vertex set $V$ and edge weights
\[\{c_{vw} \in \N^+ \cup \{\infty\} \st v, w \in V\}\] denotes, as usual,
the group generated by $\{\sigma_v \st v \in V\}$, subject to the equations
\[\langle (\sigma_v \sigma_w)^{c_{vw}} = 1 \st v, w \in V, c_{vw} \in \N^+ \rangle \]
It is required that $c_{vw} = c_{wv}$ and $c_{ww} = 1$, so that every
generator of the group is an involution.

For a given coxeter diagram $D$, a `$D$-polytope' is just an action of the group
$D$ on a set $X$. The intended interpretation of $X$ is a set of flags,
i.e. a choice, for each $n$, of an $n$-dimensional cell in the polytope,
all incident to one another. For a vertex $v\in D$,
we can intuitively recover the set of $v$-dimensional cells
as the set quotient
\[ X / \langle x = \sigma_w x \st x \in X, w \ne v \rangle \]
 For the action of
every $\sigma_w$ is to be thought of as modifying a flag by changing
only the $w$-dimensional cell of it, setting it to the unique other $w$-dimensional
cell that is still incidient to all of the non-$w$-dimensional cells in the flag.
(The tacit assumption that if only one dimension of a flag is allowed to vary,
there are precisely two choices for a cell at that dimension is somewhat mysterious to
me, but it seems a fundamental to this approach.)

Thus if we quotient out by $w$-flips of every dimension except $v$,
the equivalence classes we get are precisely the
$v$-dimensional-cells.

We write $B^\infty_n$ for the linear coxeter diagram with $n$ vertices, and all of the
edges are labelled $\infty$, except the last, which is labelled $4$, e.g.
\[B^\infty_6 \quad = \quad \begin{tikzcd}
\bullet \ar[r, dash, "\infty"] &\bullet \ar[r, dash, "\infty"] & \bullet \ar[r, dash, "\infty"]&\bullet \ar[r, dash, "\infty"]
& \bullet \ar[r, dash, "4"] & \bullet
\end{tikzcd}\]
and $D^\infty_n$ for the coxeter diagram with $n$ vertices, shaped like $D_n$,
but with all the edges labelled $\infty$, e.g.
\[D^\infty_6 \quad = \quad \begin{tikzcd}
&&&&\bullet\\
 \bullet\ar[r, dash, "\infty"] &  \bullet\ar[r, dash, "\infty"] & \bullet \ar[r, dash, "\infty"]
& \bullet \ar[ur, dash, "\infty"] \ar[dr, dash, "\infty"']\\
&&&&\bullet
\end{tikzcd}\]

For convenience we will want to label the vertices of coxeter diagrams with the labels
of their generators, numbering them from left to right, and distinguishing
the two branches of $D^\infty_n$ as $(n-2)\ups$ and $(n-2)\dns$, e.g.
\[B^\infty_6 \quad = \quad \begin{tikzcd}
0 \ar[r, dash, "\infty"] &1 \ar[r, dash, "\infty"] & 2 \ar[r, dash, "\infty"]&3 \ar[r, dash, "\infty"]
& 4 \ar[r, dash, "4"] & 5
\end{tikzcd}\]
\[D^\infty_6 \quad = \quad \begin{tikzcd}
&&&&4\ups\\
 0\ar[r, dash, "\infty"] & 1\ar[r, dash, "\infty"] & 2 \ar[r, dash, "\infty"]
& 3 \ar[ur, dash, "\infty"] \ar[dr, dash, "\infty"']\\
&&&&4\dns
\end{tikzcd}\]

A $B^\infty_n$-polytope $X$ is {\em bipartite} if
the flags in $X$ can be colored $\{\ups, \dns\}$ such that $\sigma_{n-1}$
always changes color, and $\sigma_i$ for $i < n-1$ always preserves color.

\section{Claim}
\begin{theorem}
$D_{n}^\infty$-polytopes and bipartite $B_{n}^\infty$-polytopes are in one-to-one correspondence.
\end{theorem}

\begin{proof}
We construct maps back and forth in such a way that it should be fairly clear that
the round trips are identities.
\vskip 1em
\vskip 0.3em \hrule \vskip 0.3em
\noindent $\mathbf D \to \mathbf B$:
\vskip 0.3em \hrule \vskip 0.3em
Suppose we have a $D^\infty_{n}$-polytope $(X, \sigma_0, \ldots, \sigma_{n-3}, \sigma_{(n-2)\ups}, \sigma_{(n-2)\dns})$.
We construct a $B^\infty_{n}$-action
\[(X\x\{\ups, \dns\}, \sigma'_0, \ldots, \sigma'_{n-1})\]
by defining
\[ \sigma'_{n-1} = (x, \bar p) \]
\[ \sigma'_{n-2}(x, \ups) = (\sigma_{(n-2)\ups} x, \ups) \]
\[ \sigma'_{n-2}(x, \dns) = (\sigma_{(n-2)\dns} x, \dns) \]
\[ \sigma'_i(x, p) = (\sigma_i x, p) \eqno{i < n-2}\]
where $\bar p$ is defined by $\bar\ups = \dns$ and $\bar\dns = \ups$.

We want to check that this is really an action of $B^\infty_n$.
We must show that
\begin{enumerate}
\item
$\sigma'_i \sigma'_j (x,p) = \sigma'_j \sigma'_i (x,p)$ for any $j$ and
any $i < j-1$, and
\item $(\sigma'_{n-1} \sigma'_{n-2})^4 (x,p) = (x,p)$.
\end{enumerate}
and we do so as follows:
\begin{enumerate}
\item We split cases on $j$.
  \begin{itemize}
\item[Case:] $j < n-2$.
\[\sigma'_{j} \sigma_i' (x, p) = \sigma'_{j} (\sigma_i x, p)\]
\[ = (\sigma_{j} \sigma_i x, p)  = (\sigma_i\sigma_{j}  x, p) \]
\[ = \sigma'_i (\sigma_{j}  x, p) \]
\[ = \sigma'_i \sigma'_{j} (  x, p) \]
\item[Case:] $j = n-2$:
\[\sigma'_{n-2} \sigma_i' (x, p) = \sigma'_{n-2} (\sigma_i x, p)\]
\[ = (\sigma_{(n-2)p} \sigma_i x, p)  = (\sigma_i\sigma_{(n-2)p}  x, p) \]
\[ = \sigma'_i (\sigma_{(n-2)p}  x, p) \]
\[ = \sigma'_i \sigma'_{n-2} (  x, p) \]
\item[Case:] $j = n-1$:
\[\sigma'_{n-1} \sigma_i' (x, p) = \sigma'_{n-1} (\sigma_i x, p)\]
\[ = ( \sigma_i x, \bar p)  = \sigma'_i (  x, \bar p) \]
\[ = \sigma'_i \sigma'_{n-1} (  x, p) \]
  \end{itemize}
\item
We can check that
\[(\sigma'_{n-1} \sigma'_{n-2})^4 (x,p)
= (\sigma'_{n-1} \sigma'_{n-2})^3 \sigma'_{n-1} \sigma'_{n-2} (x, p)\]
\[= (\sigma'_{n-1} \sigma'_{n-2})^3 \sigma'_{n-1}  (\sigma_{(n-2)p}x, p)\]
\[= (\sigma'_{n-1} \sigma'_{n-2})^3   (\sigma_{(n-2)p}x, \bar p)\]
\[= (\sigma'_{n-1} \sigma'_{n-2})^2   (\sigma_{(n-2)\bar p}\sigma_{(n-2)p}x,  p)\]
\[= \sigma'_{n-1} \sigma'_{n-2}   (\sigma_{(n-2)p}\sigma_{(n-2)\bar p}\sigma_{(n-2)p}x,  \bar p)\]
\[=  (\sigma_{(n-2)\bar p}\sigma_{(n-2)p}\sigma_{(n-2)\bar p}\sigma_{(n-2)p}x,   p)\]
\[=  ((\sigma_{(n-2)\bar p}\sigma_{(n-2)p})^2 x,   p)\]
\[=  ( x,   p)\]
\end{enumerate}

\vskip 1em
\vskip 0.3em \hrule  \vskip 0.3em
\noindent $\mathbf B \to \mathbf D$:
\vskip 0.3em  \hrule  \vskip 0.3em
In the other direction, suppose we have a bipartite $B^\infty_{n}$ action
\[(Y, \sigma'_0, \ldots, \sigma'_{n-1})\]
Let $X$ be the set of orbits of $\sigma'_{n-1}$.
Observe that because the action is bipartite, they are all size two,
and contain one $\ups$ flag and one $\dns$ flag.
Conclude that $Y \cong X \x \{\ups, \dns\}$ in such a way that
\[\sigma'_{n-1} (x, p) = (x, \bar p)\]
Because $\sigma'_{i}$ commutes with $\sigma'_{n-1}$ if $i < n-2$, we also know that
we can find involutions $\sigma_i$ on $X$ such that
\[\sigma'_{i} (x, p) = (\sigma_i x, p) \eqno{i < n-2}\]
We can also find involutions $\sigma_{(n-2)p}$ such that
\[ (\sigma_{(n-2)\ups} x, \ups) = \sigma'_{n-2} (x, \ups) \]
\[ (\sigma_{(n-2)\dns} x, \dns) = \sigma'_{n-2} (x, \dns) \]
by relying on the bipartiteness assumption that $\sigma'_{n-2}$ {\em doesn't} change color.

We claim we have constructed a $D^\infty_n$-polytope
 $(X, \sigma_0, \ldots, \sigma_{n-3}, \sigma_{(n-2)\ups}, \sigma_{(n-2)\dns})$
as required.

We want to check that this is really an action of $D^\infty_n$.
We must show that
\begin{enumerate}
\item
$\sigma_i \sigma_j x = \sigma_j \sigma_i x$ for any $j < n-2$ and
any $i < j-1$, and
\item $\sigma_i \sigma_{(n-2)p} x = \sigma_{(n-2)p} \sigma_i x$ for any $i < n-3$
any $i < j-1$, and
\item \(\sigma_{(n-2)\ups} \sigma_{(n-2)\dns} x =
\sigma_{(n-2)\dns} \sigma_{(n-2)\ups} x\)
\end{enumerate}
and we do so as follows:
\begin{enumerate}
\item For an arbitrary $p$,
\[(\sigma_i\sigma_{j}  x, p)  = \sigma'_i (\sigma_{j}  x, p) \]
\[ = \sigma'_i \sigma'_{j} (  x, p) \]
\[= \sigma'_{j} \sigma_i' (x, p) = \sigma'_{j} (\sigma_i x, p)\]
\[ = (\sigma_{j} \sigma_i x, p)  \]
therefore we have $\sigma_i\sigma_{j}  x = \sigma_j\sigma_{i}  x$.
\item Similarly,
\[(\sigma_i \sigma_{(n-2)p} x, p) = \sigma'_i (\sigma_{(n-2)p} x, p)\]
\[= \sigma'_i\sigma'_{n-2} ( x, p) = \sigma'_{n-2}\sigma'_i ( x, p)\]
\[= \sigma'_{n-2} (\sigma_i x, p) =  (\sigma_{(n-2)p}\sigma_i x, p)\]
hence
\[ \sigma_i \sigma_{(n-2)p} x = \sigma_{(n-2)p}\sigma_i x\]
\item
\[(\sigma_{(n-2)\ups} \sigma_{(n-2)\dns} x, \ups) = \sigma'_{n-2} ( \sigma_{(n-2)\dns} x, \ups)\]
\[ = \sigma'_{n-2} \sigma'_{n-1} ( \sigma_{(n-2)\dns} x, \dns)\]
\[ = \sigma'_{n-2} \sigma'_{n-1} \sigma'_{n-2} (x, \dns)\]
\[ = \sigma'_{n-2} \sigma'_{n-1} \sigma'_{n-2} \sigma'_{n-1}(x, \ups)\]
\[ = \sigma'_{n-1}\sigma'_{n-2}\sigma'_{n-1} \sigma'_{n-2}(   x, \ups) \eqno (*)\]
\[ = \sigma'_{n-1}\sigma'_{n-2}\sigma'_{n-1} ( \sigma_{(n-2)\ups}  x, \ups)\]
\[ = \sigma'_{n-1}\sigma'_{n-2} ( \sigma_{(n-2)\ups}  x, \dns)\]
\[ = \sigma'_{n-1} (\sigma_{(n-2)\dns} \sigma_{(n-2)\ups}  x, \dns)\]
\[= (\sigma_{(n-2)\dns} \sigma_{(n-2)\ups}  x, \ups) \]
noting that $(*)$ holds because $(\sigma'_{n-1}\sigma'_{n-2})^4 = 1$,
hence
\[\sigma_{(n-2)\ups} \sigma_{(n-2)\dns} x = \sigma_{(n-2)\dns} \sigma_{(n-2)\ups} x\]
as required.
\end{enumerate}

\cqed
\end{proof}

\end{document}
