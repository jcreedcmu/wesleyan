\documentclass{article}
\usepackage{amssymb}
\input{theorem}

\input{prooftree}
\def\erule#1#2{\begin{prooftree}#1\justifies #2\end{prooftree}}
\def\pair#1#2{\langle #1 , #2 \rangle}

\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{calc}
\definecolor{morange}{rgb}{1,0.56,0}
\definecolor{lorange}{rgb}{1,0.95,0.8}
\definecolor{mgreen}{rgb}{0,0.56,0}
\definecolor{lgreen}{rgb}{0.95,1,0.8}
\definecolor{mblue2}{rgb}{0,0.2,1.0}
\definecolor{lblue}{rgb}{0.8,0.95,1}
\definecolor{mred}{rgb}{0.9,0.1,0.1}
\definecolor{mgreen}{rgb}{0.1,0.5,0.1}
\definecolor{mblue}{rgb}{0.3,0.3,0.9}
\def\bitf#1{#1 [smooth, tension=0.8] coordinates {(-1.6,2) (-1,1) (0,0)}}
\def\bitg#1{#1 [smooth, tension=0.8] coordinates {(1,2) (0.55,1) (0,0)}}
\def\bitgrev#1{#1 [smooth, tension=0.8] coordinates {(0,0) (0.55,1) (1,2)}}
\def\bitfg#1{#1 [smooth, tension=0.8] coordinates {(0,0) (0,-2) }}
\def\binj{\mathbf{inj}}
\def\pbck{\ar[dr, phantom, pos=0, "\lrcorner"]}
\def\ups{{\uparrow}}
\def\dns{{\downarrow}}
\def\adjust{\big|}
\def\O{\mathcal{O}}
\def\rid{\mathsf{id}}
\def\int{\square}
\def\bd{\partial}
\def\prov{\vdash}
\def\prequiv{\dashv\vdash}
\def\imp{\Rightarrow}
\def\cqed{\hskip2mm{\vrule width .5em height .5em depth 0em}} % at the end of a |P.
\def\o{\circ}
\def\lx{\bigcirc}
\def\B{\mathbb{B}}
\def\C{\mathbb{C}}
\def\X{\mathbf{X}}
\def\Y{\mathcal{Y}}
\def\x{\times}
\def\st{\mathrel|}
\def\rset{\mathbf{Set}}
\def\rcat{\mathbf{Cat}}
\def\op{\mathsf{op}}
\def\P{\mathbb{P}}
\def\I{\mathbb{I}}
\def\U{\mathbb{U}}
\def\N{\mathbb{N}}
\def\Z{\mathbb{Z}}
\def\tw{\mathbf{2}}
\def\dash{\hbox{---}}
\def\dom{\mathop{\mathrm{dom}}}
\def\cod{\mathop{\mathrm{cod}}}
\def\celse{\mathrel{|}}
\def\cn{{:}}
\def\rok{\mathrel\mathsf{ok}}
\def\llam#1{\langle {#1} \rangle}

\begin{document}
\tikzset{>=stealth}
\tikzset{
   commutative diagrams/.cd,
   arrow style=tikz,
   diagrams={>=stealth}}
\def\says#1#2{#1\{#2\}}
\def\rand#1#2{#2_{#1}}

What's a plausible universe for a simple presheaf category? Like,
presheaves over
\[\P =
\begin{tikzcd}
  M \ar[r, "m"] & T
\end{tikzcd}\]
Conflate $M$ with $yM = (M \mapsto 1, T \mapsto 0)$. Notice it has no global points.
Notice $T$ is terminal so $yT$ is terminal.
Suppose in the ambient type theory we have an object classifier
\[
\begin{tikzcd}
B\pbck\ar[r]\ar[d, "b"']& \hat U\ar[d, "u"]\\
A\ar[r, "\bar b"']& U
\end{tikzcd}
\]
so that for all `small' $b$ we know they have a name $\bar b$ that makes the above a pullback.

We want to construct a reasonable candidate for object classifier for $\rset^{\P^\op}$.
I think it's $V = (M \mapsto U, T \mapsto U \x U, m \mapsto \pi_1)$. Let's see how name
construction works. Suppose we're given a morphism $b : B \to A \in \rset^{\P^\op}$. This means
we have a naturality square
\[
\begin{tikzcd}
BM\ar[from=r, "Bm"']\ar[d, "b_M"']& BT\ar[d, "b_T"]\\
AM\ar[from=r, "Am"]& AT
\end{tikzcd}
\]
so we can find codes for the components:
\[
\begin{tikzcd}
BM\pbck\ar[r, "\pi_M"]\ar[d, "b_M"']& \hat U\ar[d, "u"]\\
AM\ar[r, "\bar b_M"']& U
\end{tikzcd}
\qquad
\begin{tikzcd}
BT\pbck\ar[r, "\pi_T"]\ar[d, "b_T"']& \hat U\ar[d, "u"]\\
AT\ar[r, "\bar b_T"']& U
\end{tikzcd}
\]
so I think the morphism $A \to V$ I want to yield is the naturality square
\[
\bar b\quad = \qquad
\begin{tikzcd}
AM\ar[from=r, "Am"']\ar[d, "\bar b_M "']& AT\ar[d, "\pair {\bar b_M \o Am} {\bar b_T}"]\\
U\ar[from=r, "\pi_1"]& U \x U
\end{tikzcd}
\]
I also need to define $\hat V$ and $v$. How about:
\[
v \quad = \qquad
\begin{tikzcd}
\hat U\ar[from=r, "\pi_1"']\ar[d, "u"']& \hat U \x \hat U\ar[d, "{u} \x {u}"]\\
U\ar[from=r, "\pi_1"]& U \x U
\end{tikzcd}
\]

Does this yield a pullback? To check that
\[
\begin{tikzcd}
B\pbck\ar[r]\ar[d, "b"']& \hat V\ar[d, "v"]\\
A\ar[r, "\bar b"']& V
\end{tikzcd}
\]
I want to check the overall commutativity of
\[\begin{tikzcd}[row sep={40,between origins}, column sep={40,between origins}]
      &[3em]BT \ar[rr, "\pair{\pi_M \o Bm}{\pi_T}"]\ar[dd, "Bm" pos=0.25]\ar[dl, "b_T"']
&[1em]
&[3em]
 \hat U \x \hat U \ar[dd, "\pi_1"]\ar[dl, "u\x u" description] \\
    AT \ar[rr, "\pair{\bar b_M \o Am}{\bar b_T}"' pos=0.3, crossing over] \ar[dd, "Am"'] & & U \x U \\
      & BM  \ar[rr, "\pi_M" pos=0.7] \ar[dl, "b_M" description] & &  \hat U \ar[dl, "u"] \\
    AM \ar[rr, "\bar b_M"'] && U \ar[from=uu,crossing over, "\pi_1" pos = 0.25]
\end{tikzcd}\]
and that the top and bottom squares are pullbacks.
First note that the left face is a naturality
square, the right easily commutes, and the front and back easily commute by reasoning about products.
The bottom face is a pullback we've already seen, so let's just look at the top face.

Checking commutativity entails checking both projections; the second is a pullback we've already seen, and the first
is
\[
\begin{tikzcd}
&BM\ar[ddr, "b_M" description]\ar[r, "\pi_M"]&\hat U\ar[dr, "u"]\\
BT \ar[dr, "b_T"']\ar[ur, "Bm"]&&& U\\
&AT\ar[r, "Am"']& AM\ar[ur, "\bar b_M"']
\end{tikzcd}
\]

\subsection*{Arbitrary Presheaves}

I think what I'm doing is setting up the covariant functor $E : \P \to \rset$
which goes like this: on an object $P \in \P$, functor
evaluation $E(P)$ gives the set of all morphisms in $\P$ whose
codomain is $P$. The action on morpshisms $E(P) \to E(Q)$ on a
morphism $q : P \to Q$ is just composition.

Define the data of the universe in the presheaf category by
\[VP = U^{EP}\]
\[\hat VP = \hat U^{EP}\]
with $v_P = u^{EP}$ exhibiting naturality squares like
\[
\begin{tikzcd}
\hat VP\ar[from=r, "\hat Vq"']\ar[d, "v_P"']& \hat VQ\ar[d, "v_Q"]\\
VP\ar[from=r, "Vq"]& VQ
\end{tikzcd}
\quad = \quad
\begin{tikzcd}
\hat U^{EP}\ar[from=r, "\hat U^{Eq}"']\ar[d, "u^{EP}"']& \hat U^{EQ}\ar[d, "u^{EQ}"]\\
U^{EP}\ar[from=r, "U^{Eq}"]& U^{EQ}
\end{tikzcd}
\]
for each $q : P \to Q \in \P$.

Suppose we're given a morphism $b : B \to A \in \rset^{\P^\op}$.
We have a naturality square for each $q : P \to Q \in \P$:
\[
\begin{tikzcd}
BP\ar[from=r, "Bq"']\ar[d, "b_P"']& BQ\ar[d, "b_Q"]\\
AP\ar[from=r, "Aq"]& AQ
\end{tikzcd}
\]
and we can find codes for components:
\[
\begin{tikzcd}
BP\pbck\ar[r, "\pi_P"]\ar[d, "b_P"']& \hat U\ar[d, "u"]\\
AP\ar[r, "\overline{b_P}"']& U
\end{tikzcd}
\]
I want to construct a single name $\bar b : A \to V$.
So for each object $Q$ I need to make $\bar b_Q : AQ \to U^{EQ}$.
For each morphism $q : P \to Q$ I need to find $\pi_{q}\bar b_Q : AQ \to U$.
So I set
\[\pi_{q}\bar b_Q : AQ \to U = \overline{b_P} \o Aq\]
\[\bar b_Q : AQ \to U^{EQ} = \langle \overline{b_P} \o Aq \st q : P \to Q \in EQ \rangle\]
also define
\[\rho_Q : BQ \to \hat U^{EQ} = \langle \pi_P \o Bq \st q : P \to Q \in EQ \rangle\]
so now for a morphism $q : P \to Q$ I'm staring at a diagram like
\[\begin{tikzcd}[row sep={40,between origins}, column sep={40,between origins}]
      &[3em]BQ \ar[rr, "\rho_Q"]\ar[dd, "Bm" pos=0.25]\ar[dl, "b_Q"']
&[1em]
&[3em]
 \hat U^{EQ} \ar[dd, "\hat U^{Eq}"]\ar[dl, "u^{EQ}" description] \\
    AQ \ar[rr, "\bar b_Q"' pos=0.3, crossing over] \ar[dd, "Aq"'] & & U^{EQ} \\
      & BP  \ar[rr, "\rho_P" pos=0.7] \ar[dl, "b_P" description] & &  \hat U^{EP} \ar[dl, "u^{EP}"] \\
    AP \ar[rr, "\bar b_P"'] && U^{EP} \ar[from=uu,crossing over, "U^{Eq}" pos = 0.25]
\end{tikzcd}\]
To check that the top square actually commutes for a particular coordinate $q : P \to Q \in EQ$ of $U^{EQ}$,
we check the diagram
\[
\begin{tikzcd}
BQ\ar[d,"b_Q"'] \ar[r, "Bq"]&  BP \pbck \ar[r, "\pi_P"] \ar[d, "b_P" description]& \hat U\ar[d, "u"]\\
AQ\ar[r, "Aq"'] & AP\ar[r, "\overline{b_P}"'] & U
\end{tikzcd}
\]

Is it actually a pullback for every $Q$? I'm suspicious because the above diagram is only partially a pullback.
Suppose I have $f, g$ with
\[
\begin{tikzcd}
X \ar[drr, bend left, "f"] \ar[ddr, bend right, "g"']\ar[dr, dotted]\\
&BQ\ar[d,"b_Q"'] \ar[r, "\rho_Q"]&  \hat U^{EQ} \ar[d, "u^{EQ}"]\\
&AQ\ar[r, "\bar b_Q"'] & U^{EQ}
\end{tikzcd}
\]
I think something useful might come out of paying attention to the identity $Q \to Q$.
So in particular $f$ projects to something $X \to \hat U$ at $\rid_Q \in EQ$. Let's look there.
\[
\begin{tikzcd}
X \ar[drr, bend left, "\pi_{\rid_Q} \o f"] \ar[ddr, bend right, "g"']\ar[dr, dotted, "h_Q" description]\\
&BQ \pbck\ar[d,"b_Q"'] \ar[r, "\pi_Q"]&  \hat U \ar[d, "u"]\\
&AQ\ar[r, "\overline{b_Q}"'] & U
\end{tikzcd}
\]
This does give us an $h_Q$ for each $Q$. Going back to the $f$ triangle of the original diagram, for an arbitrary
$q : P \to Q \in EQ$, we need to check
\[
\begin{tikzcd}
X \ar[d,"h_Q"'] \ar[rr, "f"]&&  \hat U^{EQ} \ar[d, "\pi_q"]\\
BQ\ar[r, "Bq"'] & BP \ar[r,"\pi_P"'] &  \hat U
\end{tikzcd}
\]
Hm, I'm not sure this actually works.
\subsubsection*{Another Attempt}
Could it me that I instead assign $\hat V = \Delta \hat U$? And set
\[v_Q : \Delta\hat U \to U^{EQ} = \langle u | q : P \to Q \in EQ\rangle\]
? Then my cube diagram would look like
\[\begin{tikzcd}[row sep={40,between origins}, column sep={40,between origins}]
      &[3em]BQ \ar[rr, "\pi_Q"]\ar[dd, "Bm" pos=0.25]\ar[dl, "b_Q"']
&[1em]
&[3em]
 \hat U \ar[dd, equal]\ar[dl, "\Delta u" description] \\
    AQ \ar[rr, "\bar b_Q"' pos=0.3, crossing over] \ar[dd, "Aq"'] & & U^{EQ} \\
      & BP  \ar[rr, "\pi_P" pos=0.7] \ar[dl, "b_P" description] & &  \hat U \ar[dl, "\Delta u"] \\
    AP \ar[rr, "\bar b_P"'] && U^{EP} \ar[from=uu,crossing over, "U^{Eq}" pos = 0.25]
\end{tikzcd}\]
But then I can't convince myself the top face commutes.
\subsubsection*{More Yoneda}
Do I need to pass from $U^{EQ}$ to actually $U^{yQ}$?
I.e. let $yQ$ be the entire representable presheaf at object $Q \in \P$, and say that
an element of the universe in the presheaf category
is not just an {\em assignment} of a type to every morphism into $Q$, but a coherent one?

How does that look? Let's retreat back to the 1-arrow presheaf case.
I think what's going on is that $V(T)$ should not be just $U\x U$ but rather
something like $(A\ B : U) \x (A \to B)$... Hm, don't know how to encode that

\subsubsection*{Actually thinking with Yoneda}
Wait, back in \textsf{2018-02-01.ltx} I had a good suggestive schema for thinking this through.
By the yoneda lemma,
\[ V(P) = \hom_{\hat \P}(yP, V) \]
but I know that a morphism into the universe $V$ is supposed to look like a choice of a presheaf
$F \in \hat \P$ together with a natural transformation $\hom_{\hat \P}(F, yP)$. So something like:
\[ V(P) = (F : \hat \P) \x \hom_{\hat \P}(F, yP) \]
should hold.

Ah, this does line up with what I was trying to construct for the one-morphism $\P$ case.
The universe $V$ evaluated at $M$ will give $(1,0)$, so that's why you only have to specify
one set for $M$, and nothing for the $T$ side.

This means that evaluating at the terminal object of the category should just give $V(1) = \hat \P$.
The morphism part of $V$ works not by composition --- the variances work out wrong for that ---
but rather by pullback. We view the data of the $F$ in $V(P)$ as fibered over $yP$.
So to get from $(F : \hat \P) \x \hom(F, yQ) \in V(Q)$ to something in $V(P)$ we do the pullback
\[
\begin{tikzcd}
G \pbck\ar[d] \ar[r]&  yP \ar[d]\\
F\ar[r] & yQ
\end{tikzcd}
\]

If I take $\P$ to be products of $\I_n, \U_n$, what is $V(\I_1)$ for example? It's
a presheaf $F$ over $\P$ --- maybe should call it a `territory' rather than the term `weave' I was using before?
Plus a map $F \to y\I_1$.

How can I (if indeed I can?) extract the data I thought I could
extract from this about a function evolving over time? I should bear in mind
that the knob I still think I have available to twiddle a little bit is
that $V(P)$ may not be {\em all} of $(F : \hat\P) \x \hom(F, yP)$, but just
the sets so indexed that are well-behaved. I could see restricting to some notion of
fibration for sure.

An element of $V(1)$ is going to be a choice of $F : \hat\P$ together with trivial data.
I have lots of maps $1 \to \I_1$, one for each number $[0,1]$. This should let me restrict
from a $V(\I_1)$-element to a $V(1)$-element:
\[
\begin{tikzcd}
G \pbck\ar[d] \ar[r]&  y1 \ar[d]\\
F\ar[r] & y\I_1
\end{tikzcd}
\]

\subsubsection*{Summarizing what I've learned}
I want to feel the meaning of
\[ V(Q) = (F : \hat \P) \x \hom_{\hat \P}(F, yQ) \]
as the presheaf having fibers that live over $\hom(F, yQ)$.

I think $V(Q)$ must specify, for each morphism $q : P \to Q$, some set $S(q)$ that
lies over $q$ in the natural transformation $\hom(F, yQ)$. I should have something like
\[F(P) = \coprod_{q : P \to Q} S(q) \]

If I pick a $p : P_1 \to P_2$ and name $\alpha : \hom(F, yQ)$ and stare at the square
\[
\begin{tikzcd}
FP_2 \ar[d, "Fp"'] \ar[r, "\alpha_{P_2}"]&  \hom(P_2, Q) \ar[d, "\dash \o p"]\\
FP_1  \ar[r, "\alpha_{P_1}"']&  \hom(P_1, Q)
\end{tikzcd}
\]

It should tell me what I have to do the restrict along $p: P_1 \to P_2$, to get
\[Fp : F(P_2) \to F(P_1)\]
\[Fp : \coprod_{q : P_2 \to Q} S(q) \to \coprod_{q : P_1 \to Q} S(q)\]
I know then that $(Fp)(\binj_q\ s)$ has to be $\binj_{q \o p}(t)$ for some $t$.
So the morphism part of $F$ is given by a mapping, for every  $q : P_2 \to Q$ and $p : P_1 \to P_2$,
a map
\[\sigma_{qp} : S(q) \to S(q \o p)\]
and functoriality of $F$ is probably something like saying for any $p' : P_0 \to P_1$ that
\[
\begin{tikzcd}
S(q) \ar[dr, "\sigma_{q,pp'}"'] \ar[r, "\sigma_{q,p}"]&  S(qp) \ar[d, "\sigma_{qp,p'}"]\\
&  S(qpp')
\end{tikzcd}
\]
Actually let me be more explicit about indexing.
The value of the universal presheaf at $Q$ is the collection of ways you can choose $S_Q$ and $\sigma^{Q}_{q,p}$.
Supposing you have a morphism $k : Q_1 \to Q_2$, I need to describe how to take a $S_{Q_2}$ and $\sigma^{Q_2}$ and
construct a $S_{Q_1}$ and $\sigma^{Q_1}$ out of it. I think it is just
\[S_{Q_1}(q : P \to Q_1) = S_{Q_2}(kq : P \to Q_2)\]
\[ \sigma^{Q_1}_{q,p} := \sigma^{Q_2}_{kq,p} \]
\[
\begin{tikzcd}
S_{Q_1}(q : P_2 \to Q_1) \ar[d, equal] \ar[r, "\sigma^{Q_1}_{q,p}"]&  S_{Q_1}(qp : P_1 \to Q_1) \ar[d, equal]\\
S_{Q_2}(kq : P_2 \to Q_2)  \ar[r, "\sigma^{Q_2}_{kq,p}"']&  S_{Q_2}(kqp : P_1 \to Q_2)
\end{tikzcd}
\]
\subsubsection*{Fibrancy, maybe?}
[2019.12.02]

So I think I believe that to a first approximation a $\I_1$-path in
the universe is a territory that lies over $y\I_1$. I have some
further expectations on the structure of such a thing, which I'm hoping turn out
to be equivalent to some filling/lifting problem.

For example: let's say I have a presheaf $p : F \to y\I_1$ over $y\I_1$. If I have
a point, an element $x \in F(1)$, that lies over $0 : 1 \to \I_1$, then I expect that
uniquely extends to an element $F(\I_1)$ that lies over $\rid : \I_1 \to \I_1$.
So in fact yes, this feels like the diagram
\[
\begin{tikzcd}
y1 \ar[d, "0"'] \ar[r, "x"]& F \ar[d, "p"]\\
y\I_1\ar[r, "\rid"']\ar[ur, dotted] & y\I_1
\end{tikzcd}
\]
and I think more general things might obtain, like
\[
\begin{tikzcd}
y(1 \x \Gamma) \ar[d, "0 \x \rid"'] \ar[r, "x"]& F \ar[d, "p"]\\
y(\I_1 \x \Gamma)\ar[r, "f"']\ar[ur, dotted] & y\I_1
\end{tikzcd}
\]
Maybe with some restrictions on $f$? My intuition for $\U_1$ is allowing
any single point $z$ to appear in
\[
\begin{tikzcd}
y1 \ar[d, "z"'] \ar[r, "x"]& F \ar[d, "p"]\\
y\U_1\ar[r, "\rid"']\ar[ur, dotted] & y\U_1
\end{tikzcd}
\]
Although --- do I even need to say this explicitly? Can this be constructed
out of the $\I_1$ path lifting somehow, since there are monotone and antitone maps
$\I_1 \to \U_1$?

The main thing that's confusing me is how to express the fact that I
think is true, that if the bottom horizontal map (in the $\I_1$ case
at least) is {\em strictly} monotone, I think the filler should be
unique.

\subsubsection*{Cofibs and fibs in the base category}
[2019.12.03]

In order to understand what the (co)fibrations in the presheaf category should be,
I want to figure them out for the
presheaf category base (i.e. finite products of $\I_n$ and $\U_n$) first.

I think $0 : 1 \to \I_1$ ought to be a cofibration.
I think the backwards $C$-shape
\[x : \I_1, y : \I_2 \prov x = 1 \lor y = 0 \lor y = 1\]
might be a valid cofibration, because the mapping of that shape into $\I_1$
via
\[
\cases{
1 & $x = 1$  \cr
1 & $y = 0$  \cr
x & $y = 1$
}
\]
can be extended to all of $\I_1 \x \I_2$ with $\max(x \lor \lnot y)$.
However, the backwards $C$-shape with $\I_1$ instead of $\I_2$
\[x : \I_1, y : \I_1 \prov x = 1 \lor y = 0 \lor y = 1\]
is not a cofibration, because the same mapping of that shape into $\I_1$
as above would give
\[x : \I_1, y : \I_1 \prov e(x,y) : \I_1\]
such that $e(0,0) = 1$ and $e(0,1) = 0$.

I think $0 \in \I_1$ is a cofibration and
$1 \in \I_1$ is not, but I'm not sure what I have to justify that.
Correspondingly I think $\lambda x . x / 2 : \I_1 \to \I_1$ is {\em not} a fibration (it doesn't
right lift against $0 \in \I_1$) and I think probably
$\lambda x . (1 + x) / 2 : \I_1 \to \I_1$
{\em is} eligible to be one (it doesn't right lift against $1 \in \I_1$, but I think that's acceptable).

\subsubsection*{Is the path type fibrant?}

Obviously we would like to have a proper hom-type $a : A, b : A \prov a \imp_1 b : \rset$
whose elements are $\I_1$-paths in $A$. Written like this it probably can't work;
we need to dualize the domain, at least. A candidate for something that might work is
\[a : A^\op, b : A \prov a \imp_1 b : \rset\]
and we think of this as a fibered type living over $A^\op \x A$:
\[\lambda f . \pair{f(0)}{f(1)} : {A^{\I_1}} \to A^\op \x A\]
Is this actually fibrant? Let's test it against the thing I'm most confident should be a cofibration:
\[
\begin{tikzcd}
1 \ar[d, "0"'] \ar[r, "p"]& A^{\I_1} \ar[d, "{\lambda f . \pair{f(0)}{f(1)}}"]\\
\I_1\ar[r, "\pair q r"']\ar[ur, dotted] & A^\op \x A
\end{tikzcd}
\]
The two commuting triangles of this diagram would compel me to find a $\I_1 \x \I_1$ square in $A$
that looks like this:
\[\begin{tikzpicture}
\begin{scope}[scale=4]
\draw (0,0)--(0,1)--(1,1)--(1,0)--cycle;
\draw (0,1)--(1/3,0);
\draw (1,1)--(2/3,0);
\node at (0,1)[above] {$q(0)$};
\node at (1,1)[above] {$r(0)$};
\node at (0.5,1)[below] {$p$};
\node at (0.5,0)[above] {$p$};
\node at (1/6,0)[above] {$q$};
\node at (5/6,0)[above] {$r$};
\node at (0,0)[below] {$q(1)$};
\node at (1/3,0)[below] {$q(0)$};
\node at (2/3,0)[below] {$r(0)$};
\node at (1,0)[below] {$r(1)$};
\draw[->] (-0.3,1)--(-0.3,0);
\node at (-0.3,1/2)[left] {$\I_1$};
\draw[->] (0,1.3)--(1,1.3);
\node at (1/2, 1.3)[above] {$\I_1$};
\end{scope}
\end{tikzpicture}\]
But I can't actually do this! The red arrow isn't necessarily a valid $\I_1$ path in $A$,
for it runs backwards from the interior of the path segment $p$ to the interior of path segment $q$:
\[\begin{tikzpicture}
\begin{scope}[scale=4]
\draw (0,0)--(0,1)--(1,1)--(1,0)--cycle;
\draw (0,1)--(1/3,0);
\draw (1,1)--(2/3,0);
\node at (0,1)[above] {$q(0)$};
\node at (1,1)[above] {$r(0)$};
\node at (0.5,1)[below] {$p$};
\node at (0.5,0)[above] {$p$};
\node at (1/6,0)[above] {$q$};
\node at (5/6,0)[above] {$r$};
\node at (0,0)[below] {$q(1)$};
\node at (1/3,0)[below] {$q(0)$};
\node at (2/3,0)[below] {$r(0)$};
\node at (1,0)[below] {$r(1)$};
\draw[->] (-0.3,1)--(-0.3,0);
\node at (-0.3,1/2)[left] {$\I_1$};
\draw[->] (0,1.3)--(1,1.3);
\node at (1/2, 1.3)[above] {$\I_1$};
\draw[->, red] (0.2,1)--(0.2,0);
\end{scope}
\end{tikzpicture}\]
There is however an $\I_2 \x \I_1$ path in $A$ that might solve some similar kind of filling problem:
\[\begin{tikzpicture}
\begin{scope}[scale=4]
\draw (0,0)--(0,1)--(1,1)--(1,0)--cycle;
\draw (0,1)--(1/3,0);
\draw (1,1)--(2/3,0);
\node at (0,1)[above] {$q(0)$};
\node at (1,1)[above] {$r(0)$};
\node at (0.5,1)[below] {$p$};
\node at (0.5,0)[above] {$p$};
\node at (1/6,0)[above] {$q$};
\node at (5/6,0)[above] {$r$};
\node at (0,0)[below] {$q(1)$};
\node at (1/3,0)[below] {$q(0)$};
\node at (2/3,0)[below] {$r(0)$};
\node at (1,0)[below] {$r(1)$};
\draw[->] (-0.3,1)--(-0.3,0);
\node at (-0.3,1/2)[left] {$\I_2$};
\draw[->] (0,1.3)--(1,1.3);
\node at (1/2, 1.3)[above] {$\I_1$};
\draw[->, gray] (0.2,1)--(0.2,0);
\end{scope}
\end{tikzpicture}\]
So while the type $A^{\I_1}$ isn't fibrant over $A^\op \x A$,
we might try to conclude that
nonetheless the type $\lx A^{\I_1}$ is: for an $\I_2$ path into $A^{\I_1}$
can be reflected into an $\I_1$ path into $\lx A^{\I_1}$.

However, do I actually know that there is a term
\[\hbox{``}\lambda f . \pair{f(0)}{f(1)}\hbox{''} : {\lx A^{\I_1}} \to A^\op \x A\]
?
The type $\lx A^{\I_1}$ `glues more things together' than $A^{\I_1}$, so it's not clear
I can still have such a morphism. Suppose there is a square $s : \U_2 \x \I_1 \to A$.
This means there is a map $\U_1 \to \lx A^{\I_1}$. Which is to say, $s(0, \dash)$ and $s(1, \dash)$
are considered equal in $\lx A^{\I_1}$. So if we try to pull out their domain or codomain, those must
be equal: $s(0, 0) =_{\U_1} s(0,1) : A$ and $s(1, 0) =_{\U_1} s(1,1) : A$.

Which is the same worrying kind of condition of the form
`the two lateral faces of a $\I_2 \x \I_1$ (meaning:
where the $\I_1$-variable is 0 or 1) must actualy
be $\U_1$-constant' that I don't really know how to impose very well.

I might try to relax my assumptions about how $\lx$ is supposed to work. Or at least
maybe I can think of what else might play the role of $\lx A^{\I_1}$, which could
be fibered over $A^\op \x A$. The type $a \imp_1 b$ could look like this, maybe:
its $0$-cells (i.e. the paths $1 \to a \imp b$) are
paths $\I_1 \to A$, and its $1$-cells
(i.e. the paths $\I_1 \to a \imp b$)
could be those maps $f : \I_2 \x \I_1 \to A$
which have the property that $f(\dash, 0)$ and $f(\dash, 1)$ are constant.

What property to I expect of its $2$-cells, its paths $\I_2 \x \I_1 \to a \imp_1 b$?
 I expect they look like maps
$f : \I_3 \x \I_2 \x \I_1 \to A$. I expect $f(\dash,\dash,0)$
and $f(\dash,\dash,1)$ to be constant. For any particular value of $i : \I_1$
I expect $f(\dash,0,i)$ and $f(\dash,1,i)$ to be constant.

Is that right, though? If I imagine a map $\I_3 \x \I_2 \x \I_1 \to A$, then
I should expect a map $\I_2 \x \I_1 \to \lx A^{\I_1}$.
\subsubsection*{Freely Putting In What I Must}
I still think I want to define a path space $A^{\I_1}$ in such a way that it's fibrant over $A^\op \x A$.
What if I say the occupants of the presheaf $A^{\I_1}$ at the $\P$-object $\I_1$ are
tuples consisting of $p : \I_1 \to A$, $q : \I_1 \to A^\op$, $r : \I_1 \to A$, and a map
$\alpha : \I_2 \x \I_1 \to A$ that looks like
\[\begin{tikzpicture}
\begin{scope}[scale=4]
\draw (0,0)--(0,1)--(1,1)--(1,0)--cycle;
\draw (0,1)--(1/3,0);
\draw (1,1)--(2/3,0);
\node at (0,1)[above] {$q(0)$};
\node at (1,1)[above] {$r(0)$};
\node at (0.5,1)[below] {$p$};
\node at (0.5,0)[above] {$p$};
\node at (1/6,0)[above] {$q$};
\node at (5/6,0)[above] {$r$};
\node at (0,0)[below] {$q(1)$};
\node at (1/3,0)[below] {$q(0)$};
\node at (2/3,0)[below] {$r(0)$};
\node at (1,0)[below] {$r(1)$};
\draw[->] (-0.3,1)--(-0.3,0);
\node at (-0.3,1/2)[left] {$\I_2$};
\draw[->] (0,1.3)--(1,1.3);
\node at (1/2, 1.3)[above] {$\I_1$};
\end{scope}
\end{tikzpicture}\]
We require things like $i_2 : \I_2 \prov \alpha(i_2, 0) = q(i_2)$
and  $i_2 : \I_2 \prov \alpha(i_2, 1) = r(i_2)$ and
 $i_1 : \I_2 \prov \alpha(0, i_1) = p(i_1)$.

The `domain' of this data is the path $q$ and the `codomain' is the path $r$.
I must say how it transforms with restrictions on $\I_1$. Reparameterization on
that $\I_1$ operates on the $y$-coordinate of this diagram, despite it being typed $\I_2$.
If I pick a particular time, I get an $\I_1$ path horizontally. If I pick the top half of
the diagram by restriction $\dns : \I_1 \to \I_1$, I get domain $q \o \dns$ and codomain $r \o \dns$,
as I must, by definition of a presheaf.
\[\begin{tikzpicture}
\begin{scope}[scale=4]
\draw (0,0)--(0,1)--(1,1)--(1,0)--cycle;
\draw (0,1)--(1/3,0);
\draw (1,1)--(2/3,0);
\node at (0,1)[above] {$q(0)$};
\node at (1,1)[above] {$r(0)$};
\node at (0.5,1)[below] {$p$};
\node at (0.5,0)[above] {$p$};
\node at (1/6,0)[above] {$q$};
\node at (5/6,0)[above] {$r$};
\node at (0,1/2)[left, mblue] {$q(1/2)$};
\node at (1/6,1/2)[above right, mblue] {$q(0)$};
\node at (1/12,1/2)[below, mblue] {$q\dns$};
\node at (11/12,1/2)[below, mblue] {$r\dns$};
\node at (5/6,1/2)[above left, mblue] {$r(0)$};
\node at (1,1/2)[right, mblue] {$r(1/2)$};
\node at (1/3,0)[below] {$q(0)$};
\node at (0,0)[below] {$q(1)$};
\node at (2/3,0)[below] {$r(0)$};
\node at (1,0)[below] {$r(1)$};
\draw[->] (-0.3,1)--(-0.3,0);
\node at (-0.3,1/2)[left] {$\I_2$};
\draw[->] (0,1.3)--(1,1.3);
\node at (1/2, 1.3)[above] {$\I_1$};
\draw[mblue, line width=1.5pt] (0,0.5)--(1,0.5)--(1,1)--(0,1)--cycle;
\end{scope}
\end{tikzpicture}\]
 Likewise if I take the bottom half of the diagram via $\ups$, I get a 2-path
which {\em adds on} compositionally $q  \ups$ and $r  \ups$ to the initial path
$(q  \dns) ; p ; (r  \dns)$.
\[\begin{tikzpicture}
\begin{scope}[scale=4]
\draw (0,0)--(0,1)--(1,1)--(1,0)--cycle;
\draw (0,1)--(1/3,0);
\draw (1,1)--(2/3,0);
\node at (0,1)[above] {$q(0)$};
\node at (1,1)[above] {$r(0)$};
\node at (0.5,1)[below] {$p$};
\node at (0.5,0)[below] {$p$};
\node at (0,1/2)[left, mblue] {$q(1/2)$};
\node at (1/6,1/2)[below right, mblue] {$q(0)$};
\node at (1/12,1/2)[above, mblue] {$q\dns$};
\node at (11/12,1/2)[above, mblue] {$r\dns$};
\node at (5/6,1/2)[below left, mblue] {$r(0)$};
\node at (1,1/2)[right, mblue] {$r(1/2)$};

\node at (1/12,0)[below, mblue] {$q\ups$};
\node at (3/12,0)[below, mblue] {$q\dns$};
\node at (11/12,0)[below, mblue] {$r\ups$};
\node at (9/12,0)[below, mblue] {$r\dns$};

\draw[->] (-0.3,1)--(-0.3,0);
\node at (-0.3,1/2)[left] {$\I_2$};
\draw[->] (0,1.3)--(1,1.3);
\node at (1/2, 1.3)[above] {$\I_1$};
\draw[mblue, line width=1.5pt] (0,0.5)--(1,0.5)--(1,0)--(0,0)--cycle;
\draw[mblue, line width=1.5pt] (0,0.5)--(1/6,0);
\draw[mblue, line width=1.5pt] (1,0.5)--(5/6,0);
\end{scope}
\end{tikzpicture}\]
Wait, this isn't that exotic at all. The domain and codomain are just reading down the left
and right hand side of the diagram, actually. The notable thing is that even though
I'm using $\I_2 \x \I_1$ to supply the {\em data} of the $\I_1$-paths in the path space,
I don't have to obey all $\I_2 \x \I_1$-transformations --- only the $\I_1$-transformations!
Therefore I actually stand a chance at {\em maintaining} the invariant that the left-hand
side is a $\I_1 \to A^\op$ path and the right-hand side is a $\I_1 \to A$ path.

\subsubsection*{Spelling out $\I_1$ paths in $A^{\I_1}$}
Ok, we have to make sure that
\[
\begin{tikzcd}
1 \ar[d, "0"'] \ar[r, "p"]& A^{\I_1} \ar[d, "{\lambda f . \pair{f(0)}{f(1)}}"]\\
\I_1 \ar[r, "\pair q r"']\ar[ur, dotted] & A^\op \x A
\end{tikzcd}
\]
is always solvable. We say:

The presheaf evaluation $A^{\I_1}(1)$ consists of paths $\I_1 \to A$.

The presheaf evaluation $A^{\I_1}(\I_1)$ consists
of the set of tuples $(\alpha, q, r)$ where $\alpha : \I_2 \x \I_1 \to A$
and $q : \I_1^\op \to A$ and $r : \I_1 \to A$ and
\[
\begin{tikzcd}
\I_2 \ar[d] \ar[r, "\pair{\rid}{0}"]& \I_2 \x \I_1 \ar[d, "\alpha"]& \ar[l, "\pair{\rid}1"'] \ar[d]\I_2\\
\I_1^\op \ar[r, "q"'] & A & \ar[l, "r"] \I_1
\end{tikzcd}
\]

How do we restrict $(\alpha, q, r)$ along a morphism $1 \to \I_1$, i.e. a constant $t \in [0,1]$?
We return the path $\lambda i . \alpha(t, i) : \I_1 \to A$.

How do we restrict $(\alpha, q, r)$ along a morphism $\I_1 \to \I_1$, i.e. a monotone $f : [0,1] \to [0,1]$?
We return the tuple
\[(\lambda yx . \alpha(f(y), x), q \o \bar f, r \o f ) \]
where $1 - \bar f (t) =  f(1- t)$.

How do we map $A^{\I_1}$ to $A^\op \x A$? We take a point $f : \I_1 \to A$ to $\pair{f(0)}{f(1)}$.
We take a path $(\alpha, q, r)$ to $(q^*, r)$ where $q^*$ is what you get from taking $q$ and
transposing $\I_1^\op\to A$ to $\I_1\to A^\op$.

\subsubsection*{Other Cofibration Candidates}
I imagine probably this is a solvable lifting problem too:
\[
\begin{tikzcd}
X \ar[d, "\pair 0 \rid"'] \ar[r, "p"]& A^{\I_1} \ar[d]\\
\I_1 \x X\ar[r, "\pair Q R"']\ar[ur, dotted] & A^\op \x A
\end{tikzcd}
\]
Let's see if I can make any progress thinking about $X = \I_1$.
\[
\begin{tikzcd}
\I_1 \ar[d, "\pair 0 \rid"'] \ar[r, "p"]& A^{\I_1} \ar[d]\\
\I_1 \x \I_1\ar[r, "\pair Q R"']\ar[ur, dotted] & A^\op \x A
\end{tikzcd}
\]
Now I know what data constitutes $p$; it's a triple $(\alpha, q, r)$ as above.
Generally, I can picture $Q$ and $R$ like:
\[
Q = \begin{tikzcd}
{Q(0,0)} \ar[from=d, "\I_1"] \ar[from=r, "\I_1"']& {Q(1,0)} \ar[from=d, "\I_1"']\\
{Q(0,1)} \ar[from=r, "\I_1"]& {Q(1,1)}
\end{tikzcd}
\qquad
R = \begin{tikzcd}
{R(0,0)} \ar[d, "\I_1"'] \ar[r, "\I_1"]& {R(1,0)} \ar[d, "\I_1"]\\
{R(0,1)} \ar[r, "\I_1"']& {R(1,1)}
\end{tikzcd}
\]
and I know $Q(0, t) = q(t)$ and $R(0, t) = r(t)$.

I think $(A^{\I_1})(\I_1 \x \I_1)$ is going to consist primarily of a cell $\I_2 \x \I_2 \x \I_1 \to A$,
and when you set the $\I_1$ coordinate to zero, you get something that's essentially
$Q$, and when you set the $\I_1$ coordinate to one you get essentially $P$.

It's starting to smell generally that for any $P \in \P$, we're going to expect
$(A^\I_1)(P)$ to consist of some maps:
\begin{enumerate}
\item $\alpha : P^+ \x \I_1 \to A$
\item $q : P^\op \to A$
\item $r : P \to A$
\end{enumerate}
such that
\[
\begin{tikzcd}
P^+ \ar[d] \ar[r, "\pair{\rid}{0}"]& P^+ \x \I_1 \ar[d, "\alpha"]& \ar[l, "\pair{\rid}1"'] \ar[d]P^+\\
P^\op \ar[r, "q"'] & A & \ar[l, "r"] P
\end{tikzcd}
\]
which means the action on $P$-cells taken by $A^{\I_1} \to A^\op \x A$ is again
that we return $\pair{q^*} r$. The reason why we think this map might actually be fibrant
is that we can at least solve
\[
\begin{tikzcd}
P \ar[d, "\pair 0 \rid"'] \ar[r, "p"]& A^{\I_1} \ar[d]\\
\I_1 \x P\ar[r, "\pair Q R"']\ar[ur, dotted] & A^\op \x A
\end{tikzcd}
\]
Why? Because the underlying data of $p$ is the $(\alpha, q, r)$ as immediately above.
We want to come up with $\alpha' : \I_2 \x P^+ \x \I_1 \to A$ such that its domain
and codomain (wrt to the third, $\I_1$ argument) are exactly the
$Q : \I_1^\op \x P^\op \to A$ and $R : \I_1 \x P \to A$ that we were given,
and if we set the $\I_2$ argument to zero, then we get exactly the
 $\alpha : P^+ \x \I_1 \to A$ that we were given.

\textcolor{red} {This argument still needs to be completed}
\end{document}
