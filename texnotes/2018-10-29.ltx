\documentclass{article}
\usepackage{amssymb}
\input{theorem}

\usepackage{tikz}
\usepackage{tikz-cd}
\def\adjust{\big|}
\def\O{\mathcal{O}}
\def\rid{\mathsf{id}}
\def\int{\square}
\def\bd{\partial}
\def\prov{\vdash}
\def\prequiv{\dashv\vdash}
\def\imp{\Rightarrow}
\def\cqed{\hskip2mm{\vrule width .5em height .5em depth 0em}} % at the end of a |P.
\def\o{\circ}
\def\C{\mathbf{C}}
\def\X{\mathbf{X}}
\def\x{\times}
\def\st{\mathrel|}
\def\rset{\mathbf{Set}}
\def\op{\mathsf{op}}
\def\P{\mathbf{P}}
\def\dash{\hbox{---}}
\def\dom{\mathop{\mathrm{dom}}}
\begin{document}
\tikzset{
   commutative diagrams/.cd,
   arrow style=tikz,
   diagrams={>=stealth}}

\section{A Little (Topo)logical Lemma}

\begin{lemma}
Let $U(i), C(i), V$ be propositions.
If
\begin{enumerate}
\item \(C(i), V \prov U(i)\)
\item \( C(i), U(i) \prov V \)
\item \(\prov \exists i.C(i)\)
\end{enumerate}
then
\[V \prequiv \forall i . C(i) \imp U(i) \]
\end{lemma}

\begin{proof}
The forward direction  follows from $(1)$.
Backwards, use $(3)$ to produce $i$ be given such that $C(i)$.
By assumption $\forall i . C(i) \imp U(i)$, also $U(i)$. Thus $(2)$ yields $V$.
\cqed
\end{proof}


\begin{lemma}
Suppose we have a topological space $X$ with $V \subseteq X$ and a
finite collection of closed sets $C_1,\ldots,C_n \subseteq X$
and open sets $U_1, \ldots, U_n \subseteq X$ such that
\[\bigcup_i C_i = X\]
\[V \cap C_i = U_i \cap C_i\]
Then $V$ is open.
\end{lemma}

\begin{proof}
By previous lemma,
\[V = \bigcap_i (\bar C_i \cup U_i)\]
Observe that $V$ is open because $C_i$ is closed and $n$ is finite.
\cqed
\end{proof}

\begin{lemma}
Suppose we have $X$ with $V \subseteq X$ and a finite closed cover $C_1,\ldots,C_n$ as before.
Suppose $Y$ is another topological space, and $\pi : X \to Y$ a function, not necessarily
continuous. Let $\nu_i : C_i \to X$ be the inclusion of the subset topology on $C_i$
into the space $X$. If $\pi \o \nu_i$ is continuous for all $i$, then $\pi$ is continuous.
\end{lemma}

\begin{proof}
Let an open subset $U\subseteq Y$ be given.
Since $\pi \o \nu_i$ is continuous, we know that  $\nu_i^{-1}(\pi^{-1}(U)) = \pi^{-1}(U) \cap C_i $ is open
in the subset topology of $C_i$. Which means that for each $i$ there exists an open set $U_i$ of $X$
such that $\pi^{-1}(U) \cap C_i = U_i \cap C_i$. By previous lemma, $\pi^{-1}(U)$ is open.
\cqed
\end{proof}

\section{Textures}

A {\em texture} $\X$ in $\C$ is a subcategory $\X$ of $\C$, together with $J$ a Grothendieck topology on $\X$.
An {\em $\X$-structure} on an object $C \in \C$ is a subset $\sigma$ of the `maximal $\X$-sieve on $C$,'
by which we mean
$\{ \pi : X \to C \st X \in \X \}$.  Note that $C$ doesn't necessarily belong to $\X$.
When $f \in \sigma$ we say $f$ is `smooth' according to $\sigma$.
We require
\begin{enumerate}
\item (\textbf{Restriction}) If $\pi : X\to C$ is smooth, and $f : Y \to X \in \X$, then $\pi \o f : Y \to C$ is smooth.
\item (\textbf{Amalgamation}) If $\pi : X\to C$ is a function, and $S$ is a $J$-covering sieve on $X$,
and $\pi \o f : Y \to C$ is smooth for every $f : Y \to X \in S$, then $\pi$ is smooth.
\end{enumerate}

\subsection{The Continuity Texture}

Here's an example of a texture. Set $\C = \X = \mathbf{Top}$.
If $S$ is a sieve on a topological space $X$, say that a not-necessarily-open subset $V \subseteq X$
is {\em $S$-open} if for any $f : Y \to X \in S$ we have $f^{-1}(V)$ is an open subset of $Y$.

We give a grothendieck topology $J$ by saying a sieve $S$ on a space $X$ is covering
when every $V \subseteq X$ that is $S$-open is in fact open.

Let's check this is a Grothendieck topology.

\begin{enumerate}
\item The maximal sieve $M_X$ should cover $X$. If a subset $V$ is $M_X$-open, then
also we can observe $\rid^{-1}(V)$ is open, since $\rid_X \in M_X$. So the maximal sieve counts as covering.
\item Intersections of covering sieves should cover. Let $S, S'$ be given.
The condition `$S$ covers and $S'$ covers' should be the same
as `$S \cap S'$ covers'.
The former is

\[ (\O_S \subseteq \O)\land(\O_{S'} \subseteq \O) \]
and the latter
\[ \O_{S \cap S'} \subseteq \O \]
So I want to check that
\[ \O_{S \cap S'} = \O_{S} \cup  \O_{S'}\]
i.e.
\[ \forall f \in S \cap S' . \ldots \prequiv (\forall f \in {S} . \ldots) \cup  (\forall f \in {S'} . \ldots)\]

Suppose we know that $S \cap S'$ is covering. Then surely $S$ is covering and $S'$ covering just by monotonicity.
The bigger an $S$ is, the harder it is for $f$ to be $S$-open, and the easier it is for $S$ to be covering.
Suppose $S$ and $S'$ are both covering. We want to show that $S \cap S'$ is covering. That is,
for every $f \in S \cap S'$ that if $f^{-1}(V)$ is open, then $V$ is open.

Hm, maybe this isn't a Grothendieck topology at all, but some weaker notion of covering.
\end{enumerate}

\section{Chu Thoughts}

What is a directed graph? It's a set $X$ together with, for each map $2 \to X$,
a set of edges.

What is a topological space? It's a set $X$ together with, for each map $X \to 2$,
a bit of information saying whether that subset of $X$ counts as open, subject to some axioms.

What is a category? It's a directed graph, subject to some axioms. Though this isn't quite
as true as I'd like --- a functor is not just a graph homomorphism.

What can I say about the axioms that a topological space is supposed to satisfy?
Let me generalize to a proof-relevant relation: so $\O(f)$ is the {\em set} of open sets
corresponding to the subset $f : X \to 2$ of $X$. I expect there to be operations
\[ \O(f) \x \O(g) \to \O(f \cap g)\]
\[ (\Pi i . \O(f_i)) \to \bigcup_i \O(f_i)\]
where I am punning on functions as subsets --- I really mean
\[ \O(f) \x \O(g) \to \O(\lambda x . f(x) \land g(x))\]
\[ (\Pi i . \O(f_i)) \to \O(\lambda x . \bigvee_i f_i(x))\]
where
\[ \land : 2 \x 2 \to 2 \]
\[ \bigvee : 2^I \to 2 \]
are structure that I know to exist on $2 = \{\bot, \top\}$.
I can sort of think as $\bigvee$ as parametrized on the index set $I$.

\subsection{Defining}

Fix a category $\C$ and an object $\Omega$. An {\em operation} is
a map $\omega : \Omega^I \to \Omega$. An object of the spatial category
is an object $C\in \C$ together with a relation $R :\hom(C, \Omega) \to \rset$.
If $\omega$ is an operation, then we require that for every $I$-indexed
family of maps $f_i \in \hom(C, \Omega)$, that there is a function
\[ m_\omega : (\Pi i . R (f_i)) \to R (\omega \o \langle f_i \rangle )\]
A morphism from $(C, R)$ to $(C', R')$ is a morphism $c : C \to C'\in \C$
with a map $(f : C' \to \Omega) \to R'(f) \to R(f \o c)$.

The topological example above sets $\C = \rset$ and $\Omega = 2$,
and has an operation $\land$ for $I = 2$, and a family of operations
$\bigvee$ one for each possible set $I$.
\subsection{Dualizing}
Suppose we take $\C = \rset^\op$
I guess I could ask for operations $\omega : \Omega \to \Omega \cdot I$.
But the evident map $2 \to 4$ that takes $0$ to $0$ and $1$ to $3$ would
give us a `composition operation' that wouldn't require the intermediate
points to match up.

So maybe an operation is a set $S$ together with maps $\Omega \to S$
for each of the inputs, (in other words, a map $\Omega \cdot I \to S$)
and a map $\Omega \to S$ for the output. The thing for categorical
composition would take $4$ to $3$ by collapsing the middle two, and
$2$ to $3$ by missing the middle.

To give names: An $I$-ary operation is an object $S \in \C$, and maps
$\iota_i : \Omega \to S$ and $\omega : \Omega \to S$. If
$R : \hom(\Omega, C) \to \rset$ is the dual relation, the requirement it induces
is that for every  $s : \hom(S , C)$ there's a map
\[ m_{\iota \omega s} : (\Pi i . R (s \o \iota_i)) \to R (s \o \omega )\]
Back to the original orientation of arrows, this would
ask for $\iota_i : S \to \Omega$ and $\omega : S \to \Omega$ and $s : \hom(C, S)$ such that
(with $R$ being $\hom(C, \Omega) \to \rset$)
\[ m_{\iota \omega s} : (\Pi i . R ( \iota_i \o s)) \to R ( \omega \o s)\]
Let's try plugging in $S = 2 \x 2$ and $\iota_1 = \pi_1$ and $\iota_2 = \pi_2$.
and $\omega = \land$. Then a choice of $s : C \to 2 \x 2$ is the same thing
as an independent choice of $f : C \to 2$ and $g : C \to 2$.

Same thing if I plug in $S = 2^I$ and $\iota_i = \pi_i : 2^I \to 2$ and
$\omega = \bigvee$.

\subsection{Summarizing}
Assume we're given $\C$ and $\Omega\in \C$ and a collection of operations
\[\O_j = (I_j ,  S_j, \iota_{ji} : \Omega \to S_j  , \omega_j : \Omega \to S_j )\]
We build a category $\C[\Omega]$ by saying an object is $C\in \C$ plus a relation $R : \hom(\Omega, C) \to \rset$,
plus for every operation $\O_j$ and we have a map
\[ m_{j} : (s :  S_j \to C) \to (( i : I_j) \to  R (s \o \iota_{ji} )) \to R ( s\o\omega_j )\]
A morphism from $(C, R, m) \to (C', R', m')$ needs to provide
\[ f : C \to C' \in \C \qquad \rho_{(g : \Omega \to C)} :   R(g) \to R'(f \o g) \]
such that
\[
 \begin{tikzcd}
( i : I_j) \to R(s \iota_{ji}) \ar[d, "{\lambda \kappa i .\rho_{s\iota_{ji}}(\kappa(i))}"']\ar[r,"m_j(s)"] & R(s\omega_j)\ar[d,"\rho_{s\omega_j}"]\\[1em]
( i : I_j) \to R'(f s \iota_{ji}) \ar[r,"m_j(fs)" swap] & R'(fs\omega_j)
 \end{tikzcd}
\]

\subsection{Using a Variety of Probes}
Can we say that we're given $\C$ and $\P = \{\Omega \ldots \}$, and an operation looks like
$\O = (S, \iota: U \to S, \omega : T \to S)$
where $S, T, U \in \{ \Omega, \ldots \}$.

Maybe $\P$ has (co)product structure as a category? To make an object, we pick a $C\in \C$,
and for every $\Omega \in \P$, we demand
a relation $R_\Omega: \hom(\Omega, C) \to \rset$.

For every operation we have a map
\[ m : (s :  S \to C) \to   R_U (s  \iota)  \to R_T ( s\omega )\]
a morphism  $(C, R_\Omega, m) \to (C', R'_\Omega, m')$ needs to provide
\[ f : C \to C' \in \C \qquad \rho_{(g : \Omega \to C)} :   R_\Omega(g) \to R'_\Omega(f \o g) \]
such that
\[
 \begin{tikzcd}
 R_U(s \iota) \ar[d, "{\rho_{s\iota}}"']\ar[r,"m(s)"] & R_T(s\omega)\ar[d,"\rho_{s\omega}"]\\[1em]
 R'_U(f s \iota) \ar[r,"m(fs)" swap] & R'_T(fs\omega)
 \end{tikzcd}
\]

\subsubsection{What To Say About Products}
In the topological case, the probe-shape
$\hom(C, \Omega^I)$ is the same as $\hom(C, \Omega)^I$,
so we can ask that $R_{\Omega^I}$ is the conjunction of $R_\Omega$ at the individual putatively-open sets.
Let's just talk about the binary case first: if $P, Q \in \P$, then
$R_{P \x Q} : \hom(C, P \x Q) \to \rset$ is supposed to be the conjunction of
$R_{P} : \hom(C, P) \to \rset$  and $R_{Q} : \hom(C, Q) \to \rset$ .
That is,
\[ R_{P\x Q}\langle f, g\rangle \cong  R_P f \x R_Q g  \]
That product on the left is inside the category $\P$, the one on the right is in $\rset$.
If I'm back in the `graph-theoretic' orientation, I'm going to be talking about copairing.
Suppose $f_i : \Omega_i \to C$. Then I demand
\[R_{\coprod_i \Omega_i} [f_i] \cong \prod_i R_{\Omega_i} f_i\]
Actually, this makes sense as a general colimits-become-limits kind of thing.
Since $3$ can be construed as the colimit of two copies of $2$, we should find that
$R_3$ is the homset-like operation, that given 3 points, yields the pairs of composable morphisms
via a pullback.

\subsection{Can I Just Talk About Presheaves}
Say we're given $\C$ and $\Omega$ again. An operation
looks like $\O = (S, \iota: U \to S, \omega : T \to S)$ but in this case
$S, T, U$ belong to $\hat \C$.
The basic data we have is $R : \hom(\Omega, C) \to \rset$, but from that
we want to be able to sort of automatically derive what
$R_S : \hom_{\hat \C}(S, yC) \to \rset$ is generally, trading on the intuition that an element
of $\hat \C$ is like a colimit.

Or can I just ask for all $R_S : \hom_{\hat \C}(S, yC) \to \rset$,
with equations like
\[(f : [S, yC])(g: [T, yC]) \to R_{S+T} [f, g] = R_S f \x R_T g\]

No, this isn't making much sense.

\subsection{Pushouts?}
Let's say we have $\C$ and $\Omega$. A {\em boundary} is a pushout diagram
where all the sides are $\Omega$. We get to pick an index set $I$ and a base
$B_0$ and some maps $b_i : B_0 \to \Omega$ and we take the pushout $B$, so we
have a bunch of maps $\iota_i : \Omega \to B$.

An operation is $\O = (S, \iota: U \to S, \omega : T \to S)$ where $S, T, U$ are boundaries.
We ask for $R_\Omega : \hom(\Omega, C) \to \rset$. For any boundary $B$ we should
be able to derive what $R_B : \hom(B, C) \to \rset$ is. Let a map $b : B \to C$ be given.
Then $b \o \iota_i : \Omega \to C$ and $R_\Omega(b \o \iota_i)$ is a set.
We set simply
\[R_B(b) = \prod_i R_\Omega(b \o \iota_i)\]
I think.

For every operation we have a map
\[ m : (s :  S \to C) \to  \prod_i R_\Omega( s \o \iota \o u_i)  \to \prod_i R_\Omega ( s \o \omega \o t_i)\]
eh this is more of a mess than it's worth.

\subsection{Thoughts From Last Night}

Ok, forget about Grothendieck topologies. There are two sorts of
phenomena going on when I consider the `texture' that consists of considering a subinterval
$S$ of the directed interval, and probing some space $C$ by asking whether a map $S \to C$
is compatible with the directed structure on $S$.

They are {\em restriction} and {\em amalgamation}. In restriction I take a subinterval
$f : T \to S$ of $S$, and a compatible/smooth/allowed map $s : S \to C$, and infer that $s\o f : T \to C$
is smooth.
In amalgamation, I take some kind of cover $f_1 : T_1 \to S, \ldots, f_n : T_n \to S$ of $S$
by subintervals, and if all the $s \o f_i$ are smooth, then I conclude that $s$ is smooth.

So I might think that a texture is a thing that tells me {\em which}
restrictions and {\em which} amalgamations are allowed. I thought this was
by simply providing a category (whose morphisms say which restrictions are allowed)
with something like a grothendieck topology (which would say, via which sieves are covering,
which amalgamations are allowed) but I think I want something more subtle.

For categorical composition works by requiring a certain operation that is kind of simultaneously
 part amalgamation and part restriction:
\[\begin{tikzcd}
2+2 \ar[r, "{[f, g]}"]& 3 \ar[from=r, "h"']& 2\\
  0_L\ar[ddr, phantom, "f"] \ar[dr] \\[-1em]
  1_L \ar[dr] & 0\ar[from=r] & 0\\[-1.5em]
 & 1\\[-1.5em]
  0_R \ar[ur] & 2\ar[from=r] & 1\\[-1em]
  1_R \ar[uur, phantom, "g"] \ar[ur]
\end{tikzcd}\]
The two maps $2 \to 3$, call them $f$ and $g$,
can be said to cover $3$ but only with respect to a mandated restriction $h$
from $3$ back down to $2$. If I have a map $\pi : 3 \to C$ and proofs that $\pi \o f$
and $\pi \o g$ are smooth, then I get a proof that $\pi \o h$ is smooth.

Possibly I can eliminate this requirement of simultaneous amalgamation-and-restriction
if I could have a good explanation of how the smoothness relation on $3$ is derivable
from the canonical smoothness relation $R_2 : \hom(2, C) \to \rset$.

This would take me back to saying that there are some allowed amalgamations, and some
allowed restrictions. Curiously, the amalgamation here would be fairly trivial,
and the restriction from $3\to C$ to $2\to C$ would seem to be the thing that
would actually {\em accomplish} composition.

\subsubsection{Are Amalgamations Ever Nontrivial?}
Yeah, I think so. At least for the directed-interval case, it seems like
the set of eligible maps from a covered interval (before we even involve smoothness!)
is not just the product of eligible maps from the covering intervals --- since we
need to require that the maps agree on the (in this case nontrivial) overlap.

\subsubsection{But Having Said That}

Given that I know the important probe object is $\Omega$, can I say that
the objects of the `category of restrictions' are just colimit/pushout diagrams
involving $\Omega$.

Like... there's the category of all colimit diagrams of everything in $\C$,
namely $\hat \C$. I want to single out a subcategory $\P \subseteq \hat \C$.
This should have just the `good' colimit diagrams, and the `good' morphisms
between them. Probably $\P$ should be closed under colimits as computed in $\hat\C$.
For every $P \in \P$, there is the compatibility relation $R_P : \hom(P, C) \to \rset$.
And somehow should have $R_{\coprod_i P_i}[ f_i] = \prod_i R_{P_i}(f_i) $
for a family of arrows $f_i : P_i \to C$. Let's see if I can explicate this.
To have colimits is the same thing as having an initial object and having arbitrarily big pushouts.
I could do binary pushouts as a conceptually salient warm-up. I don't expect things
to go significantly differently there.

So I require the constantly empty presheaf, call it $\emptyset$, belongs to $\P$. The meaning of $R_\emptyset$ is
clear. Its type is $R_\emptyset : \hom(\emptyset, yC) \to \rset$, which is the
same as just saying $R_\emptyset : \rset$, which we set to the singleton set $1$.

Let's try to think about a pushout.
\[
\begin{tikzcd}
X\ar[r]\ar[d]\ar[dr, phantom, pos=1, "\ulcorner"]& P\ar[d, "\iota"]\\
P'\ar[r, "\iota'"']& Q
\end{tikzcd}
\]
All the objects here are presheaves in $\P$. We want to figure out
what $R_Q$ has to be. Its type is $R_Q : \hom(Q, yC) \to \rset$. Ok, good,
so let a map $f : Q \to yC$ be given.
\[
\begin{tikzcd}
X\ar[r, "p"]\ar[d, "p'"']\ar[dr, phantom, pos=1, "\ulcorner"]& P\ar[d, "\iota"]\ar[ddr, bend left, "f\iota"]\\
P'\ar[r, "\iota'"']\ar[drr, bend right, "f\iota'"']& Q\ar[dr, "f" description]\\
&&yC
\end{tikzcd}
\]

It's going to be {\em something} like the product $R_P(f\iota) \x R_{P'}(f\iota')$ but obviously
we need to make it a pullback somehow, and filter out some stuff.

Oh, but morphisms in $\P$ --- i.e. $p$ and $p'$ --- are supposed to be allowable restrictions.
So if $k : P \to yC$ is a path into the space, and $p: X \to P$ is a morphism in $\P$,
we should be do a restriction
 $\sigma_{k, p} : R_P(k) \to R_X(k \o p)$. Then the pullback set that
$R_Q(f)$ is equal to is, the set of pairs $t : R_P(f \iota)$ and $t' : R_{P'}(f \iota')$,
such that $\sigma_{f\iota,p} (t) = \sigma_{f\iota', p'}(t')$.

\subsection{Thinking With Comma Categories}

Say a probe category $\P$ into $\C$ is a functor $F : \P \to \C$
plus a notion of which sieves in $\P$ are covering.

A $\P$-textured object in $\C$ is an object $C\in\C$ together with
a functor
\[\tau : (F/C)^\op \to \rset\]
The objects of $F/C$ look like morphisms $f : FP \to C$. A morphism from $f' : FP' \to C$ to
$f: FP \to C$ is a morphism $m : P' \to P$ such that $f \o Fm = f'$.
What do we require for covering sieves? Let a covering
\[S = \{ m : P' \to P \} \in \P\]
of $P$ be given. Suppose we have a $f : FP \to C$. We want to give an inhabitant of $\tau(f)$
iff there is a consistent family of inhabitants
\[x_m \in \tau(f \o Fm)\]
`Consistent' should mean that for any $m : P' \to P$ and $m' : P'' \to P'$,
we have
\[ x_{m \o m'} = \tau(m' )(x_m)\]

Let's try to compress this definition into something
more natural. A sieve is a subfunctor of $yP : \hat\P$.
So an inhabitant of the sieve $S : \hat \P$ should probably be a natural
transformation from $S$ to something like $\tau$. But $\tau$ has type $\widehat{F / C}$
and $S$ has type $\hat \P$. We can however extract an object of $\P$ from any object of $F / C$.
This means we have $D : \hat \P \to \widehat{F / C}$. So is what I want a natural transformation
$x : D S \to \tau : (\widehat{F / C})^\op \to \rset$ for every covering sieve $S$?

How does this unpack? For every object $f : FP' \to C \in \widehat {F/C}^\op$ we must produce a morphism
$x_f : S(P' \to P) \to \tau(f)$. No I'm getting lost. Let me try to draw the naturality diagram
I think I see:

\[\begin{tikzcd}
\hom(P', P) \ar[r, "\dash \o m'"]\ar[d, "x"'] & \hom(P'', P)\ar[d, "x"]\\
\tau(f \o Fm) \ar[r, "{\tau(m')}"'] & \tau(f \o F(m \o m'))
\end{tikzcd}\]
and this works because $m'$ is actually a morphism from $f \o Fm$ to $f \o F(m \o m')$.
Ok, so this looks I might have gotten it right after all. The morphism that this
naturality square is talking about is $m' : f \o Fm \to f \o F(m \o m')$.

But I need to take into account $f$ here, somehow. Ok, here's a thought:
Maybe $x : US \to  U_f\tau : (\P / P)^\op \to \rset$.
I need to say what I mean by $U$ and $U_f$. First of all $U : \hat \P \to \widehat{\P / P}$
by taking the domain. Then $U_f : \widehat{F/C} \to \widehat{\P/P}$ works
by taking $\tau$ and $m : P' \to P$ and returning $\tau(f \o F m)$.

Ok, so if I have a covering sieve $S$ of $P$, and a boundary $f : FP \to C \in F / C$, and
I have fillers as a natural transformation $x : US \to U_f\tau$ for everything in the sieve,
then I should get a filler $[S, f, x] : \tau(f)$.

\subsubsection{Does Anything Get Clearer if $\P$ is a Subcategory}

Let $\C$ be a category, with a subcategory $\P$, which has a notion of covering sieve.
A textured object on $C$ in $\C$ is a functor
\[\tau : (\P/C)^\op \to \rset\]
subject to the condition that whenever we have a $f : P \to C$ and a covering sieve $S$
and a natural transformation $\alpha : U \to V : (\P / P)^\op \to \rset$, then we get
an element of $\tau(f)$. Where $U, V : (\P / P)^\op \to \rset$ are defined by
\[ U( m : (P' \to P)) . S(P') \]
\[ V(m:(P' \to P)) = \tau(f \o m)\]

\subsection{Actually This is Fine With Commas}

Let $\C, \P$ be a categories with $F : \P \to \C$. Suppose $\P$ has a notion of covering sieve,
i.e. some functors $S : \P^\op \to \rset$ are considered `covering'.
A textured object on $C$ in $\C$ is a functor
\[\tau : (F/C)^\op \to \rset\]
subject to the condition that whenever we have a $f : FP \to C$ and a covering sieve $S$
and a natural transformation $\alpha : U \to V : (\P / P)^\op \to \rset$, then we get
a (unique?) element of $\tau(f)$ that yields that $\alpha$ upon restriction.
Where $U, V : (\P / P)^\op \to \rset$ are defined by
\[ U( m : (P' \to P)) . S(P') \]
\[ V(m:(P' \to P)) = \tau(f \o Fm)\]
\subsubsection{Maybe Even This}
Let $\C, \P$ be a categories with $F : \P \to \C$.
Suppose some functors $S : (\P/P)^\op \to \rset$ are considered to `cover' $P$.
A textured object on $C$ in $\C$ is a functor
\[\tau : (F/C)^\op \to \rset\]
subject to the condition that whenever we have a $f : FP \to C$ and a covering functor $S$
and a natural transformation $\alpha : S \to \tau\adjust_f : (\P / P)^\op \to \rset$, then we get
a (unique?) element of $\tau(f)$ that yields that $\alpha$ upon restriction.
Where $\tau\adjust_f : (\P / P)^\op \to \rset$ is defined by
\[ \tau_f(m:(P' \to P)) = \tau(f \o Fm)\]

How do we derive an $\alpha : S \to \tau\adjust_f$ from an element $x \in \tau(f)$, given $f$ and $S$?
Let an object $m : P' \to P \in \P/P$ be given. We have to come up with an arrow
$\alpha_m : S(m) \to \tau(f \o Fm)$. But $m$ is an arrow $(f \o Fm) \to f$ in $F/C$.
So $\tau(m) : \tau(f) \to \tau(f \o Fm)$. So we can have $\alpha_m$ ignore its sieve
argument and always return $\tau(m)(x)$.

\subsubsection{Cleaning Up Further}
Let $\C, \P$ be a categories with $F : \P \to \C$.
Suppose some functors $S : \widehat{\P/P}$ are considered to `cover' $P$.
Observe that an object $f : FP \to C$ of $F/C$ can be construed as
a functor $[f] := (f\o F\dash) : \P/P \to F/C$.

A textured object on $C$ in $\C$ is a functor
\(\tau : \widehat{F/C}\)
such that whenever we have a $f : FP \to C$ and  $S$ covering $P$
and a natural transformation $\alpha : S \to \tau \o [f]^\op $, then
there is a unique element $x \in \tau(f)$ such that $\alpha_m(\_) = \tau(m)(x)$.

\subsubsection{Still better}

Let $\C, \P$ be a categories with $F : \P \to \C$.
Suppose some functors $S : \widehat{\P/P}$ are considered to `cover' $P$.
Observe that an object $f : FP \to C$ of $F/C$ can be construed as
a functor $[f] := (f\o F\dash) : \P/P \to F/C$.

A textured object on $C$ in $\C$ is a functor
\(\tau : \widehat{F/C}\)
such that whenever we have a $f : FP \to C$ and  $S$ covering $P$,
then every $\alpha : S \to \tau \o [f]^\op $ factors uniquely
through $S \to 1_P$:
\[\begin{tikzcd}
  1_P  \ar[r, dotted] & \tau \o {[f]}^\op\\
S \ar[u, "!"]\ar[ur, "\alpha"']
\end{tikzcd}\]
($1_P : \widehat{\P/P}$ is the constantly-$1$ functor)

\subsection{Modalities}
The Lawvere-Tierney perspective says that there should be a natural
transformation $j : \Omega \to \Omega$,
where $\Omega$ is the presheaf that is the collection of sieves on each object.
Let's suppose we're just talking about $\Omega \in \hat \P$ for now.
Suppose we have a notion of covering sieve in mind.
The action of the corresponding $j$ on a sieve $S \in \Omega(P)$ is to take $S$ to the
set of arrows $f : Q \to P$ such that $S$ restricted along $f$  covers $Q$.
\vfil\eject
\section{From The Top Again}

Let $\C, \P$ be a categories with $F : \P \to \C$. Suppose
that for any $P\in \P$ and sieve $S$ on $P$, we have a notion
of whether $S$ counts as `covering'.

A {\em textured object} in $\C$ is a choice of object $C\in \C$,
a presheaf $T \in \hat \P$, and a natural transformation
\[
\begin{tikzcd}
T \ar[r, "\tau"'] & \C[F\dash, C]
\end{tikzcd}
\]
such that for any sieve $S$ that covers $P$, any $b : FP \to C \in \C$, and any natural transformation $\sigma : S \to T$
such that the outer square of
\[
\begin{tikzcd}
S \ar[r, hook]\ar[d, "\sigma"'] & \P[\dash, P] \ar[d, "b \o F\dash"]\ar[dl, dotted]\\
T \ar[r, "\tau"'] & \C[F\dash, C]
\end{tikzcd}
\]
commutes, there exists a filling diagonal.

So actually maybe I should observe there's a functor $Y : \C \to \hat \P$.
It's just the two-argument yoneda functor, incorporating an $F$:
\[Y(C)(P) = \C[FP, C]\]
The textured objects are a certain special subset of the objects of the comma category $\hat \P / Y$.

Oh, duh, by yoneda lemma, of course I know that $\mathrm{Nat}(\P[\dash, P], \C[F\dash, C]) \cong \C[FP, \C]$,
and they {\em all} arise as $b \o F\dash$.

So for my filling diagram, all I need to know is there is some magical set of morphisms $\Phi \subseteq \hat\P$,
(which I will want to be the inclusions of covering sieves in the maximal sieve --- or perhaps I can just
go with all sieve inclusions where the closure of the small thing contains the big thing)
and $\tau : T \to U$ is properly textured if for any $\phi : S \to R\in \Phi$ we can fill
\[
\begin{tikzcd}
S \ar[r, "\phi"]\ar[d] & R \ar[d]\ar[dl, dotted]\\
T \ar[r, "\tau"'] & U
\end{tikzcd}
\]
or maybe it's more perspicuous to write this as
\[
\begin{tikzcd}
S \ar[r]\ar[d, "\phi"'] & T \ar[d, "\tau"]\ar[from=dl, dotted]\\
R \ar[r] & U
\end{tikzcd}
\]
\subsection{So I Have}
Let $\C, \P$ be a categories with $F : \P \to \C$. Suppose
we have a subcategory $J \subseteq \hat \P$. An {\em $F$-textured object}
is a morphism in $\hat\P$, whose codomain is of the form
$\C[F\dash, C]$ for some $C\in\C$, and which
has the right lifting property
against any morphism in $J$.


\end{document}
